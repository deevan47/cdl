{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../shared/services/auth.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../admin/admin-dashboard/admin-dashboard.component\";\nimport * as i4 from \"../user/user-dashboard/user-dashboard.component\";\nfunction DashboardWrapperComponent_app_admin_dashboard_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-admin-dashboard\");\n  }\n}\nfunction DashboardWrapperComponent_app_user_dashboard_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-user-dashboard\");\n  }\n}\nclass DashboardWrapperComponent {\n  authService;\n  currentUser = null;\n  constructor(authService) {\n    this.authService = authService;\n  }\n  ngOnInit() {\n    this.authService.currentUser.subscribe(user => {\n      this.currentUser = user ? user.user || user : null;\n    });\n  }\n  get isAdmin() {\n    return this.currentUser?.role === 'admin';\n  }\n  static ɵfac = function DashboardWrapperComponent_Factory(t) {\n    return new (t || DashboardWrapperComponent)(i0.ɵɵdirectiveInject(i1.AuthService));\n  };\n  static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: DashboardWrapperComponent,\n    selectors: [[\"app-dashboard-wrapper\"]],\n    decls: 2,\n    vars: 2,\n    consts: [[4, \"ngIf\"]],\n    template: function DashboardWrapperComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, DashboardWrapperComponent_app_admin_dashboard_0_Template, 1, 0, \"app-admin-dashboard\", 0);\n        i0.ɵɵtemplate(1, DashboardWrapperComponent_app_user_dashboard_1_Template, 1, 0, \"app-user-dashboard\", 0);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.isAdmin);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.isAdmin);\n      }\n    },\n    dependencies: [i2.NgIf, i3.AdminDashboardComponent, i4.UserDashboardComponent],\n    encapsulation: 2\n  });\n}\nexport { DashboardWrapperComponent };","map":{"version":3,"names":["i0","ɵɵelement","DashboardWrapperComponent","authService","currentUser","constructor","ngOnInit","subscribe","user","isAdmin","role","ɵɵdirectiveInject","i1","AuthService","selectors","decls","vars","consts","template","DashboardWrapperComponent_Template","rf","ctx","ɵɵtemplate","DashboardWrapperComponent_app_admin_dashboard_0_Template","DashboardWrapperComponent_app_user_dashboard_1_Template","ɵɵproperty","ɵɵadvance"],"sources":["/home/deevan/cdl-project-management-system/frontend/src/app/dashboard-wrapper/dashboard-wrapper.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { AuthService } from '../shared/services/auth.service';\nimport { User } from '../shared/models/user.model';\n\n@Component({\n    selector: 'app-dashboard-wrapper',\n    template: `\n    <app-admin-dashboard *ngIf=\"isAdmin\"></app-admin-dashboard>\n    <app-user-dashboard *ngIf=\"!isAdmin\"></app-user-dashboard>\n  `\n})\nexport class DashboardWrapperComponent implements OnInit {\n    currentUser: User | null = null;\n\n    constructor(private authService: AuthService) { }\n\n    ngOnInit() {\n        this.authService.currentUser.subscribe(user => {\n            this.currentUser = user ? (user.user || user) : null;\n        });\n    }\n\n    get isAdmin(): boolean {\n        return this.currentUser?.role === 'admin';\n    }\n}\n"],"mappings":";;;;;;;IAOIA,EAAA,CAAAC,SAAA,0BAA2D;;;;;IAC3DD,EAAA,CAAAC,SAAA,yBAA0D;;;AAJ9D,MAOaC,yBAAyB;EAGdC,WAAA;EAFpBC,WAAW,GAAgB,IAAI;EAE/BC,YAAoBF,WAAwB;IAAxB,KAAAA,WAAW,GAAXA,WAAW;EAAiB;EAEhDG,QAAQA,CAAA;IACJ,IAAI,CAACH,WAAW,CAACC,WAAW,CAACG,SAAS,CAACC,IAAI,IAAG;MAC1C,IAAI,CAACJ,WAAW,GAAGI,IAAI,GAAIA,IAAI,CAACA,IAAI,IAAIA,IAAI,GAAI,IAAI;IACxD,CAAC,CAAC;EACN;EAEA,IAAIC,OAAOA,CAAA;IACP,OAAO,IAAI,CAACL,WAAW,EAAEM,IAAI,KAAK,OAAO;EAC7C;;qBAbSR,yBAAyB,EAAAF,EAAA,CAAAW,iBAAA,CAAAC,EAAA,CAAAC,WAAA;EAAA;;UAAzBX,yBAAyB;IAAAY,SAAA;IAAAC,KAAA;IAAAC,IAAA;IAAAC,MAAA;IAAAC,QAAA,WAAAC,mCAAAC,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;QAJlCpB,EAAA,CAAAsB,UAAA,IAAAC,wDAAA,iCAA2D;QAC3DvB,EAAA,CAAAsB,UAAA,IAAAE,uDAAA,gCAA0D;;;QADpCxB,EAAA,CAAAyB,UAAA,SAAAJ,GAAA,CAAAZ,OAAA,CAAa;QACdT,EAAA,CAAA0B,SAAA,GAAc;QAAd1B,EAAA,CAAAyB,UAAA,UAAAJ,GAAA,CAAAZ,OAAA,CAAc;;;;;;;SAG1BP,yBAAyB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}