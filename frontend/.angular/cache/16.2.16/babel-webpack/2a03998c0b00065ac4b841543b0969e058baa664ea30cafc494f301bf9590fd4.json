{"ast":null,"code":"import { ProjectPlatform, ProjectStatus } from '../../shared/models/project.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../shared/services/project.service\";\nimport * as i2 from \"../../shared/services/user.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../../shared/components/project-detail/project-detail.component\";\nimport * as i5 from \"../../shared/components/task-modal/task-modal.component\";\nimport * as i6 from \"../../shared/components/project-creation-modal/project-creation-modal.component\";\nfunction AdminDashboardComponent_div_18_app_project_creation_modal_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-project-creation-modal\", 31);\n    i0.ɵɵlistener(\"projectCreated\", function AdminDashboardComponent_div_18_app_project_creation_modal_17_Template_app_project_creation_modal_projectCreated_0_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r7.onProjectCreated($event));\n    })(\"modalClosed\", function AdminDashboardComponent_div_18_app_project_creation_modal_17_Template_app_project_creation_modal_modalClosed_0_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r9 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r9.closeProjectCreationModal());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"platform\", ctx_r5.selectedPlatformForCreation)(\"availableManagers\", ctx_r5.availableManagers);\n  }\n}\nfunction AdminDashboardComponent_div_18_div_39_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 32);\n    i0.ɵɵlistener(\"click\", function AdminDashboardComponent_div_18_div_39_Template_div_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r12);\n      const project_r10 = restoredCtx.$implicit;\n      const ctx_r11 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r11.selectProject(project_r10));\n    });\n    i0.ɵɵelementStart(1, \"div\", 33)(2, \"div\", 34);\n    i0.ɵɵelement(3, \"div\");\n    i0.ɵɵelementStart(4, \"p\", 35);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"span\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"div\", 36)(9, \"div\", 37);\n    i0.ɵɵelement(10, \"div\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const project_r10 = ctx.$implicit;\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵclassMap(ctx_r6.getPlatformDotClass(project_r10.platform));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(project_r10.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassMap(ctx_r6.getStatusBadgeClass(project_r10.status));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(project_r10.status);\n    i0.ɵɵadvance(3);\n    i0.ɵɵclassMap(ctx_r6.getProgressBarClass(project_r10.status));\n    i0.ɵɵstyleProp(\"width\", project_r10.overallProgress, \"%\");\n  }\n}\nfunction AdminDashboardComponent_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 11)(1, \"div\", 12)(2, \"h1\", 13);\n    i0.ɵɵtext(3, \"Command Center\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 14)(5, \"div\", 15);\n    i0.ɵɵlistener(\"click\", function AdminDashboardComponent_div_18_Template_div_click_5_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.openProjectCreationModal(\"flame\"));\n    });\n    i0.ɵɵelementStart(6, \"h2\", 16);\n    i0.ɵɵtext(7, \"FLAME\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"p\", 17);\n    i0.ɵɵtext(9, \"Internal Creative Projects\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\", 18);\n    i0.ɵɵlistener(\"click\", function AdminDashboardComponent_div_18_Template_div_click_10_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.openProjectCreationModal(\"swayam\"));\n    });\n    i0.ɵɵelementStart(11, \"h2\", 16);\n    i0.ɵɵtext(12, \"SWAYAM\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"p\", 17);\n    i0.ɵɵtext(14, \"External Educational Courses\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(15, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function AdminDashboardComponent_div_18_Template_button_click_15_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.openProjectCreationModal(ctx_r16.currentView));\n    });\n    i0.ɵɵtext(16, \" Add Project\\n\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(17, AdminDashboardComponent_div_18_app_project_creation_modal_17_Template, 1, 2, \"app-project-creation-modal\", 20);\n    i0.ɵɵelementStart(18, \"div\", 21)(19, \"h3\", 22);\n    i0.ɵɵtext(20, \"Dashboard Overview\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"div\", 23)(22, \"span\");\n    i0.ɵɵtext(23, \"Total Projects: \");\n    i0.ɵɵelementStart(24, \"span\", 24);\n    i0.ɵɵtext(25);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(26, \"span\", 25);\n    i0.ɵɵtext(27, \"Completed: \");\n    i0.ɵɵelementStart(28, \"span\", 26);\n    i0.ɵɵtext(29);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(30, \"span\", 27);\n    i0.ɵɵtext(31, \"In Progress: \");\n    i0.ɵɵelementStart(32, \"span\", 26);\n    i0.ɵɵtext(33);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(34, \"span\", 28);\n    i0.ɵɵtext(35, \"Lagging: \");\n    i0.ɵɵelementStart(36, \"span\", 26);\n    i0.ɵɵtext(37);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(38, \"div\", 29);\n    i0.ɵɵtemplate(39, AdminDashboardComponent_div_18_div_39_Template, 11, 10, \"div\", 30);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(17);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.showProjectCreationModal);\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate(ctx_r0.getStats().total);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r0.getStats().completed);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r0.getStats().inProgress);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r0.getStats().lagging);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.filteredProjects);\n  }\n}\nfunction AdminDashboardComponent_div_19_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r22 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 5);\n    i0.ɵɵlistener(\"click\", function AdminDashboardComponent_div_19_div_19_Template_div_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r22);\n      const project_r20 = restoredCtx.$implicit;\n      const ctx_r21 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r21.selectProject(project_r20));\n    });\n    i0.ɵɵelementStart(1, \"div\", 47)(2, \"p\", 35);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 48)(7, \"div\", 37);\n    i0.ɵɵelement(8, \"div\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const project_r20 = ctx.$implicit;\n    const ctx_r17 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassMap(ctx_r17.getProjectItemClass(project_r20));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(project_r20.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassMap(ctx_r17.getStatusBadgeClass(project_r20.status));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(project_r20.status);\n    i0.ɵɵadvance(3);\n    i0.ɵɵclassMap(ctx_r17.getProgressBarClass(project_r20.status));\n    i0.ɵɵstyleProp(\"width\", project_r20.overallProgress, \"%\");\n  }\n}\nfunction AdminDashboardComponent_div_19_app_project_detail_21_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r24 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-project-detail\", 49);\n    i0.ɵɵlistener(\"projectUpdated\", function AdminDashboardComponent_div_19_app_project_detail_21_Template_app_project_detail_projectUpdated_0_listener($event) {\n      i0.ɵɵrestoreView(_r24);\n      const ctx_r23 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r23.onProjectUpdated($event));\n    })(\"projectDeleted\", function AdminDashboardComponent_div_19_app_project_detail_21_Template_app_project_detail_projectDeleted_0_listener($event) {\n      i0.ɵɵrestoreView(_r24);\n      const ctx_r25 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r25.onProjectDeleted($event));\n    })(\"taskModalRequested\", function AdminDashboardComponent_div_19_app_project_detail_21_Template_app_project_detail_taskModalRequested_0_listener($event) {\n      i0.ɵɵrestoreView(_r24);\n      const ctx_r26 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r26.openTaskModal($event));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r18 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"project\", ctx_r18.selectedProject)(\"availableManagers\", ctx_r18.availableManagers);\n  }\n}\nfunction AdminDashboardComponent_div_19_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 50)(1, \"p\", 51);\n    i0.ɵɵtext(2, \"Select or add a project\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction AdminDashboardComponent_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r28 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 11)(1, \"div\", 12)(2, \"h1\", 13);\n    i0.ɵɵtext(3, \"Project Management\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 38)(5, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function AdminDashboardComponent_div_19_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r27 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r27.navigateTo(\"home\"));\n    });\n    i0.ɵɵtext(6, \" All Projects \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function AdminDashboardComponent_div_19_Template_button_click_7_listener() {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r29 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r29.navigateTo(\"flame\"));\n    });\n    i0.ɵɵtext(8, \" FLAME Projects \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function AdminDashboardComponent_div_19_Template_button_click_9_listener() {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r30 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r30.navigateTo(\"swayam\"));\n    });\n    i0.ɵɵtext(10, \" SWAYAM Projects \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"div\", 39)(12, \"div\", 40)(13, \"div\", 41)(14, \"h2\", 42);\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function AdminDashboardComponent_div_19_Template_button_click_16_listener() {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r31 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r31.createNewProject(ctx_r31.currentView));\n    });\n    i0.ɵɵtext(17, \" \\u2795 Add Project \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(18, \"div\", 11);\n    i0.ɵɵtemplate(19, AdminDashboardComponent_div_19_div_19_Template, 9, 10, \"div\", 43);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(20, \"div\", 44);\n    i0.ɵɵtemplate(21, AdminDashboardComponent_div_19_app_project_detail_21_Template, 1, 2, \"app-project-detail\", 45);\n    i0.ɵɵtemplate(22, AdminDashboardComponent_div_19_div_22_Template, 3, 0, \"div\", 46);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵclassMap(ctx_r1.getNavClass(\"home\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassMap(ctx_r1.getNavClass(\"flame\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassMap(ctx_r1.getNavClass(\"swayam\"));\n    i0.ɵɵadvance(5);\n    i0.ɵɵclassMap(ctx_r1.getPlatformTextClass(ctx_r1.currentView));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r1.currentView, \" Projects\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.filteredProjects);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.selectedProject);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.selectedProject);\n  }\n}\nfunction AdminDashboardComponent_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11)(1, \"div\", 12)(2, \"h1\", 13);\n    i0.ɵɵtext(3, \"Team Management\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 52)(5, \"p\", 53);\n    i0.ɵɵtext(6, \"Team management functionality will be implemented here.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\", 54);\n    i0.ɵɵtext(8, \"Features: Add team members, assign roles, manage permissions.\");\n    i0.ɵɵelementEnd()()()();\n  }\n}\nfunction AdminDashboardComponent_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11)(1, \"div\", 12)(2, \"h1\", 13);\n    i0.ɵɵtext(3, \"Settings\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 52)(5, \"p\", 53);\n    i0.ɵɵtext(6, \"System settings and configuration will be implemented here.\");\n    i0.ɵɵelementEnd()()()();\n  }\n}\nfunction AdminDashboardComponent_app_task_modal_22_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r33 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-task-modal\", 55);\n    i0.ɵɵlistener(\"taskCreated\", function AdminDashboardComponent_app_task_modal_22_Template_app_task_modal_taskCreated_0_listener() {\n      i0.ɵɵrestoreView(_r33);\n      const ctx_r32 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r32.onTaskCreated());\n    })(\"modalClosed\", function AdminDashboardComponent_app_task_modal_22_Template_app_task_modal_modalClosed_0_listener() {\n      i0.ɵɵrestoreView(_r33);\n      const ctx_r34 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r34.closeTaskModal());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"stageId\", ctx_r4.selectedStageId);\n  }\n}\nlet AdminDashboardComponent = /*#__PURE__*/(() => {\n  class AdminDashboardComponent {\n    projectService;\n    userService;\n    projects = [];\n    filteredProjects = [];\n    selectedPlatform = 'all';\n    currentView = 'home';\n    selectedProject = null;\n    isDarkMode = false;\n    availableManagers = [];\n    showTaskModal = false;\n    selectedStageId = '';\n    currentSection = 'dashboard';\n    showProjectCreationModal = false;\n    selectedPlatformForCreation;\n    constructor(projectService, userService) {\n      this.projectService = projectService;\n      this.userService = userService;\n    }\n    ngOnInit() {\n      this.loadProjects();\n      this.loadAvailableManagers();\n      this.detectColorScheme();\n    }\n    loadProjects() {\n      this.projectService.getAllProjects().subscribe({\n        next: projects => {\n          this.projects = projects;\n          this.filterProjects();\n        },\n        error: error => console.error('Error loading projects:', error)\n      });\n    }\n    loadAvailableManagers() {\n      this.projectService.getAvailableManagers().subscribe({\n        next: managers => {\n          console.log('Available managers:', managers); // Debug log\n          this.availableManagers = managers;\n        },\n        error: error => {\n          console.error('Error loading managers:', error);\n          // Fallback to hardcoded managers if API fails\n          this.availableManagers = [{\n            id: 'pm1',\n            name: 'Praharshini Kumar',\n            email: 'praharshini.kumar@cdl.com',\n            role: 'project_manager',\n            avatar: 'https://i.pravatar.cc/150?u=praharshini',\n            isActive: true,\n            createdAt: new Date()\n          }];\n        }\n      });\n    }\n    filterProjects() {\n      if (this.selectedPlatform === 'all') {\n        this.filteredProjects = this.projects;\n      } else {\n        this.filteredProjects = this.projects.filter(p => p.platform === this.selectedPlatform);\n      }\n    }\n    navigateTo(view) {\n      this.currentView = view;\n      if (view === 'home') {\n        this.selectedPlatform = 'all';\n      } else {\n        this.selectedPlatform = view;\n      }\n      this.filterProjects();\n      this.selectedProject = null;\n    }\n    navigateToSection(section) {\n      this.currentSection = section;\n    }\n    selectProject(project) {\n      this.selectedProject = project;\n    }\n    openProjectCreationModal(platform) {\n      this.selectedPlatformForCreation = platform;\n      this.showProjectCreationModal = true;\n    }\n    closeProjectCreationModal() {\n      this.showProjectCreationModal = false;\n      this.selectedPlatformForCreation = null;\n    }\n    onProjectCreated(projectData) {\n      this.projectService.createProject(projectData).subscribe({\n        next: project => {\n          this.projects.unshift(project);\n          this.selectedProject = project;\n          this.filterProjects();\n          this.closeProjectCreationModal();\n        },\n        error: error => console.error('Error creating project:', error)\n      });\n    }\n    createNewProject(platform) {\n      this.openProjectCreationModal(platform);\n    }\n    deleteProject(projectId) {\n      if (confirm('Are you sure you want to delete this project?')) {\n        this.projectService.deleteProject(projectId).subscribe({\n          next: () => {\n            this.projects = this.projects.filter(p => p.id !== projectId);\n            if (this.selectedProject?.id === projectId) {\n              this.selectedProject = null;\n            }\n            this.filterProjects();\n          },\n          error: error => console.error('Error deleting project:', error)\n        });\n      }\n    }\n    assignProjectManager(projectId, managerId) {\n      if (managerId) {\n        this.projectService.assignProjectManager(projectId, managerId).subscribe({\n          next: updatedProject => {\n            const index = this.projects.findIndex(p => p.id === projectId);\n            if (index !== -1) {\n              this.projects[index] = updatedProject;\n            }\n            if (this.selectedProject?.id === projectId) {\n              this.selectedProject = updatedProject;\n            }\n          },\n          error: error => console.error('Error assigning manager:', error)\n        });\n      }\n    }\n    getStatusColor(status) {\n      const colors = {\n        [ProjectStatus.SETUP]: 'blue',\n        [ProjectStatus.IN_PROGRESS]: 'blue',\n        [ProjectStatus.AT_RISK]: 'yellow',\n        [ProjectStatus.LAGGING]: 'red',\n        [ProjectStatus.COMPLETED]: 'green'\n      };\n      return colors[status] || 'gray';\n    }\n    getStats() {\n      const total = this.projects.length;\n      const completed = this.projects.filter(p => p.status === ProjectStatus.COMPLETED).length;\n      const inProgress = this.projects.filter(p => [ProjectStatus.IN_PROGRESS, ProjectStatus.AT_RISK].includes(p.status)).length;\n      const lagging = this.projects.filter(p => p.status === ProjectStatus.LAGGING).length;\n      return {\n        total,\n        completed,\n        inProgress,\n        lagging\n      };\n    }\n    toggleDarkMode() {\n      this.isDarkMode = !this.isDarkMode;\n      if (this.isDarkMode) {\n        document.documentElement.classList.add('dark');\n      } else {\n        document.documentElement.classList.remove('dark');\n      }\n    }\n    openTaskModal(stageId) {\n      this.selectedStageId = stageId;\n      this.showTaskModal = true;\n    }\n    closeTaskModal() {\n      this.showTaskModal = false;\n      this.selectedStageId = '';\n    }\n    onTaskCreated() {\n      this.closeTaskModal();\n      this.loadProjects();\n    }\n    onProjectUpdated(updatedProject) {\n      const index = this.projects.findIndex(p => p.id === updatedProject.id);\n      if (index !== -1) {\n        this.projects[index] = updatedProject;\n      }\n      if (this.selectedProject?.id === updatedProject.id) {\n        this.selectedProject = updatedProject;\n      }\n      this.filterProjects();\n    }\n    onProjectDeleted(projectId) {\n      this.projects = this.projects.filter(p => p.id !== projectId);\n      if (this.selectedProject?.id === projectId) {\n        this.selectedProject = null;\n      }\n      this.filterProjects();\n    }\n    detectColorScheme() {\n      if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {\n        this.isDarkMode = true;\n        document.documentElement.classList.add('dark');\n      }\n    }\n    getNavClass(view) {\n      const baseClasses = \"w-full text-left px-4 py-2 rounded-md transition-colors duration-200\";\n      const activeClasses = this.currentView === view ? 'bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300' : 'text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700';\n      return `${baseClasses} ${activeClasses}`;\n    }\n    getSectionNavClass(section) {\n      const baseClasses = \"w-full text-left px-4 py-2 rounded-md transition-colors duration-200\";\n      const activeClasses = this.currentSection === section ? 'bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300' : 'text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700';\n      return `${baseClasses} ${activeClasses}`;\n    }\n    getPlatformDotClass(platform) {\n      return `w-3 h-3 rounded-full ${platform === ProjectPlatform.FLAME ? 'bg-orange-500' : 'bg-blue-500'}`;\n    }\n    getStatusBadgeClass(status) {\n      const colors = {\n        [ProjectStatus.SETUP]: 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300',\n        [ProjectStatus.IN_PROGRESS]: 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300',\n        [ProjectStatus.AT_RISK]: 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300',\n        [ProjectStatus.LAGGING]: 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300',\n        [ProjectStatus.COMPLETED]: 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300'\n      };\n      return `px-2.5 py-0.5 text-xs font-medium rounded-full ${colors[status]}`;\n    }\n    getProgressBarClass(status) {\n      const colors = {\n        [ProjectStatus.SETUP]: 'bg-blue-500',\n        [ProjectStatus.IN_PROGRESS]: 'bg-blue-500',\n        [ProjectStatus.AT_RISK]: 'bg-yellow-500',\n        [ProjectStatus.LAGGING]: 'bg-red-500',\n        [ProjectStatus.COMPLETED]: 'bg-green-500'\n      };\n      return `h-2 rounded-full transition-all duration-500 ${colors[status]}`;\n    }\n    getPlatformTextClass(platform) {\n      return platform === ProjectPlatform.FLAME ? 'text-orange-500' : 'text-blue-500';\n    }\n    getProjectItemClass(project) {\n      const baseClasses = \"p-4 border-b dark:border-gray-700 cursor-pointer transition-colors\";\n      const selectedClasses = this.selectedProject?.id === project.id ? project.platform === ProjectPlatform.FLAME ? 'bg-orange-500/10' : 'bg-blue-500/10' : 'hover:bg-gray-100 dark:hover:bg-gray-800/50';\n      return `${baseClasses} ${selectedClasses}`;\n    }\n    static ɵfac = function AdminDashboardComponent_Factory(t) {\n      return new (t || AdminDashboardComponent)(i0.ɵɵdirectiveInject(i1.ProjectService), i0.ɵɵdirectiveInject(i2.UserService));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: AdminDashboardComponent,\n      selectors: [[\"app-admin-dashboard\"]],\n      decls: 23,\n      vars: 14,\n      consts: [[1, \"flex\", \"h-screen\", \"bg-gray-100\", \"dark:bg-gray-950\", \"transition-colors\", \"duration-300\"], [1, \"w-64\", \"bg-white\", \"dark:bg-gray-900\", \"border-r\", \"dark:border-gray-700\", \"flex\", \"flex-col\"], [1, \"p-6\", \"border-b\", \"dark:border-gray-700\"], [1, \"text-2xl\", \"font-bold\", \"text-gray-800\", \"dark:text-white\"], [1, \"flex-1\", \"p-4\", \"space-y-2\"], [3, \"click\"], [1, \"p-4\", \"border-t\", \"dark:border-gray-700\"], [1, \"w-full\", \"flex\", \"items-center\", \"justify-center\", \"px-4\", \"py-2\", \"text-gray-600\", \"bg-gray-100\", \"rounded-lg\", \"dark:bg-gray-800\", \"dark:text-gray-300\", \"hover:bg-gray-200\", \"dark:hover:bg-gray-700\", 3, \"click\"], [1, \"flex-1\", \"flex\", \"flex-col\", \"overflow-hidden\"], [\"class\", \"flex-1 overflow-y-auto\", 4, \"ngIf\"], [3, \"stageId\", \"taskCreated\", \"modalClosed\", 4, \"ngIf\"], [1, \"flex-1\", \"overflow-y-auto\"], [1, \"p-6\"], [1, \"text-3xl\", \"font-bold\", \"text-gray-800\", \"dark:text-white\", \"mb-8\"], [1, \"grid\", \"grid-cols-1\", \"md:grid-cols-2\", \"gap-6\", \"mb-8\"], [1, \"p-8\", \"rounded-xl\", \"bg-gradient-to-br\", \"from-orange-400\", \"to-red-500\", \"text-white\", \"shadow-lg\", \"hover:shadow-2xl\", \"transform\", \"hover:-translate-y-1\", \"transition-all\", \"duration-300\", \"cursor-pointer\", 3, \"click\"], [1, \"text-4xl\", \"font-bold\"], [1, \"mt-2\", \"text-lg\", \"opacity-80\"], [1, \"p-8\", \"rounded-xl\", \"bg-gradient-to-br\", \"from-blue-400\", \"to-indigo-500\", \"text-white\", \"shadow-lg\", \"hover:shadow-2xl\", \"transform\", \"hover:-translate-y-1\", \"transition-all\", \"duration-300\", \"cursor-pointer\", 3, \"click\"], [1, \"flex\", \"items-center\", \"gap-2\", \"px-3\", \"py-1.5\", \"text-sm\", \"font-semibold\", \"text-white\", \"bg-blue-500\", \"rounded-md\", \"hover:bg-blue-600\", \"transition\", 3, \"click\"], [3, \"platform\", \"availableManagers\", \"projectCreated\", \"modalClosed\", 4, \"ngIf\"], [1, \"bg-white\", \"dark:bg-gray-800\", \"rounded-xl\", \"shadow-md\", \"p-6\", \"mb-6\"], [1, \"text-xl\", \"font-semibold\", \"text-gray-800\", \"dark:text-white\", \"mb-4\"], [1, \"flex\", \"flex-wrap\", \"gap-4\", \"text-sm\", \"text-gray-600\", \"dark:text-gray-300\"], [1, \"font-bold\", \"text-gray-900\", \"dark:text-white\"], [1, \"text-green-600\", \"dark:text-green-400\"], [1, \"font-bold\"], [1, \"text-blue-600\", \"dark:text-blue-400\"], [1, \"text-red-600\", \"dark:text-red-400\"], [1, \"space-y-4\"], [\"class\", \"p-4 rounded-lg bg-gray-50 dark:bg-gray-700/50 cursor-pointer hover:shadow-lg transition-shadow\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [3, \"platform\", \"availableManagers\", \"projectCreated\", \"modalClosed\"], [1, \"p-4\", \"rounded-lg\", \"bg-gray-50\", \"dark:bg-gray-700/50\", \"cursor-pointer\", \"hover:shadow-lg\", \"transition-shadow\", 3, \"click\"], [1, \"flex\", \"items-center\", \"justify-between\"], [1, \"flex\", \"items-center\", \"gap-3\"], [1, \"font-semibold\", \"text-gray-800\", \"dark:text-gray-100\"], [1, \"mt-3\"], [1, \"w-full\", \"bg-gray-200\", \"rounded-full\", \"h-2\", \"dark:bg-gray-700\"], [1, \"flex\", \"gap-4\", \"mb-6\"], [1, \"flex\", \"h-full\", \"overflow-hidden\"], [1, \"w-1/3\", \"border-r\", \"dark:border-gray-700\", \"flex\", \"flex-col\"], [1, \"p-4\", \"border-b\", \"dark:border-gray-700\", \"flex\", \"justify-between\", \"items-center\"], [1, \"text-2xl\", \"font-bold\", \"capitalize\"], [3, \"class\", \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"flex-1\", \"bg-white\", \"dark:bg-gray-800\", \"overflow-y-auto\"], [3, \"project\", \"availableManagers\", \"projectUpdated\", \"projectDeleted\", \"taskModalRequested\", 4, \"ngIf\"], [\"class\", \"h-full flex items-center justify-center\", 4, \"ngIf\"], [1, \"flex\", \"justify-between\", \"items-center\"], [1, \"mt-2\"], [3, \"project\", \"availableManagers\", \"projectUpdated\", \"projectDeleted\", \"taskModalRequested\"], [1, \"h-full\", \"flex\", \"items-center\", \"justify-center\"], [1, \"text-gray-500\", \"dark:text-gray-400\", \"text-lg\"], [1, \"bg-white\", \"dark:bg-gray-800\", \"rounded-lg\", \"shadow-md\", \"p-6\"], [1, \"text-gray-600\", \"dark:text-gray-400\"], [1, \"text-gray-500\", \"dark:text-gray-500\", \"text-sm\", \"mt-2\"], [3, \"stageId\", \"taskCreated\", \"modalClosed\"]],\n      template: function AdminDashboardComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h2\", 3);\n          i0.ɵɵtext(4, \"Admin Dashboard\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(5, \"nav\", 4)(6, \"button\", 5);\n          i0.ɵɵlistener(\"click\", function AdminDashboardComponent_Template_button_click_6_listener() {\n            return ctx.navigateToSection(\"dashboard\");\n          });\n          i0.ɵɵtext(7, \" \\uD83D\\uDCCA Dashboard \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(8, \"button\", 5);\n          i0.ɵɵlistener(\"click\", function AdminDashboardComponent_Template_button_click_8_listener() {\n            return ctx.navigateToSection(\"projects\");\n          });\n          i0.ɵɵtext(9, \" \\uD83D\\uDE80 Projects \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(10, \"button\", 5);\n          i0.ɵɵlistener(\"click\", function AdminDashboardComponent_Template_button_click_10_listener() {\n            return ctx.navigateToSection(\"users\");\n          });\n          i0.ɵɵtext(11, \" \\uD83D\\uDC65 User Management \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(12, \"button\", 5);\n          i0.ɵɵlistener(\"click\", function AdminDashboardComponent_Template_button_click_12_listener() {\n            return ctx.navigateToSection(\"settings\");\n          });\n          i0.ɵɵtext(13, \" \\u2699\\uFE0F Settings \");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(14, \"div\", 6)(15, \"button\", 7);\n          i0.ɵɵlistener(\"click\", function AdminDashboardComponent_Template_button_click_15_listener() {\n            return ctx.toggleDarkMode();\n          });\n          i0.ɵɵtext(16);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(17, \"div\", 8);\n          i0.ɵɵtemplate(18, AdminDashboardComponent_div_18_Template, 40, 6, \"div\", 9);\n          i0.ɵɵtemplate(19, AdminDashboardComponent_div_19_Template, 23, 12, \"div\", 9);\n          i0.ɵɵtemplate(20, AdminDashboardComponent_div_20_Template, 9, 0, \"div\", 9);\n          i0.ɵɵtemplate(21, AdminDashboardComponent_div_21_Template, 7, 0, \"div\", 9);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(22, AdminDashboardComponent_app_task_modal_22_Template, 1, 1, \"app-task-modal\", 10);\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(6);\n          i0.ɵɵclassMap(ctx.getSectionNavClass(\"dashboard\"));\n          i0.ɵɵadvance(2);\n          i0.ɵɵclassMap(ctx.getSectionNavClass(\"projects\"));\n          i0.ɵɵadvance(2);\n          i0.ɵɵclassMap(ctx.getSectionNavClass(\"users\"));\n          i0.ɵɵadvance(2);\n          i0.ɵɵclassMap(ctx.getSectionNavClass(\"settings\"));\n          i0.ɵɵadvance(4);\n          i0.ɵɵtextInterpolate1(\" \", ctx.isDarkMode ? \"\\u2600\\uFE0F Light\" : \"\\uD83C\\uDF19 Dark\", \" Mode \");\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", ctx.currentSection === \"dashboard\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.currentSection === \"projects\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.currentSection === \"users\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.currentSection === \"settings\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.showTaskModal);\n        }\n      },\n      dependencies: [i3.NgForOf, i3.NgIf, i4.ProjectDetailComponent, i5.TaskModalComponent, i6.ProjectCreationModalComponent],\n      styles: [\".admin-container[_ngcontent-%COMP%]{display:flex;height:100vh;background-color:#f3f4f6}.sidebar[_ngcontent-%COMP%]{width:250px;background-color:#fff;box-shadow:0 1px 3px #0000001a;overflow-y:auto}.sidebar-header[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid #e5e7eb}.nav-item[_ngcontent-%COMP%]{width:100%;text-align:left;padding:.5rem 1rem;border-radius:.375rem;transition:all .2s;margin:.25rem 0}.main-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.header[_ngcontent-%COMP%]{background-color:#fff;padding:1rem;box-shadow:0 1px 3px #0000001a;display:flex;justify-content:space-between;align-items:center}.content-area[_ngcontent-%COMP%]{flex:1;display:flex;overflow:hidden}.projects-list[_ngcontent-%COMP%]{flex:1;max-width:400px;border-right:1px solid #e5e7eb;overflow-y:auto}.project-item[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid #e5e7eb;cursor:pointer;transition:all .2s}.project-detail[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:1.5rem}.dark[_ngcontent-%COMP%]{--bg-primary: #1f2937;--bg-secondary: #111827;--text-primary: #f3f4f6;--text-secondary: #d1d5db;--border: #374151}.dark[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]{background-color:var(--bg-secondary);border-right:1px solid var(--border)}.dark[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{background-color:var(--bg-secondary);color:var(--text-primary);border-bottom:1px solid var(--border)}.dark[_ngcontent-%COMP%]   .projects-list[_ngcontent-%COMP%]{background-color:var(--bg-primary);border-right-color:var(--border)}.dark[_ngcontent-%COMP%]   .project-item[_ngcontent-%COMP%]{border-bottom-color:var(--border);color:var(--text-secondary)}.dark[_ngcontent-%COMP%]   .project-detail[_ngcontent-%COMP%]{background-color:var(--bg-primary);color:var(--text-primary)}.text-gray-600[_ngcontent-%COMP%]{color:#4b5563}.dark[_ngcontent-%COMP%]   .text-gray-600[_ngcontent-%COMP%]{color:#9ca3af}.bg-blue-100[_ngcontent-%COMP%]{background-color:#dbeafe}.dark[_ngcontent-%COMP%]   .bg-blue-100[_ngcontent-%COMP%]{background-color:#1e3a8a}.text-blue-700[_ngcontent-%COMP%]{color:#1d4ed8}.dark[_ngcontent-%COMP%]   .text-blue-700[_ngcontent-%COMP%]{color:#93c5fd}.status-badge[_ngcontent-%COMP%]{padding:.375rem .625rem;font-size:.75rem;font-weight:500;border-radius:9999px;display:inline-block;margin:.25rem .25rem .25rem 0}.progress-bar-container[_ngcontent-%COMP%]{width:100%;height:.5rem;background-color:#e5e7eb;border-radius:9999px;overflow:hidden}.progress-bar[_ngcontent-%COMP%]{height:100%;transition:all .5s ease-in-out}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal[_ngcontent-%COMP%]{background-color:#fff;border-radius:.5rem;box-shadow:0 20px 25px -5px #0000001a;max-width:32rem;width:90%;max-height:80vh;overflow-y:auto}.dark[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]{background-color:var(--bg-secondary);color:var(--text-primary)}@media (max-width: 768px){.admin-container[_ngcontent-%COMP%]{flex-direction:column}.sidebar[_ngcontent-%COMP%]{width:100%;max-height:200px;border-bottom:1px solid #e5e7eb}.content-area[_ngcontent-%COMP%]{flex-direction:column}.projects-list[_ngcontent-%COMP%]{max-width:none;border-right:none;border-bottom:1px solid #e5e7eb;max-height:300px}}\"]\n    });\n  }\n  return AdminDashboardComponent;\n})();\nexport { AdminDashboardComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}