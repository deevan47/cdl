{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Validators } from '@angular/forms';\nimport { UserRole } from '../../shared/models/user.model';\nlet UserManagementComponent = class UserManagementComponent {\n  userService;\n  fb;\n  users = [];\n  showUserModal = false;\n  userForm;\n  isEditing = false;\n  editingUserId = null;\n  constructor(userService, fb) {\n    this.userService = userService;\n    this.fb = fb;\n    this.userForm = this.fb.group({\n      name: ['', [Validators.required, Validators.minLength(2)]],\n      email: ['', [Validators.required, Validators.email]],\n      role: ['', Validators.required],\n      avatar: ['']\n    });\n  }\n  ngOnInit() {\n    this.loadUsers();\n  }\n  loadUsers() {\n    this.userService.getAllUsers().subscribe({\n      next: users => {\n        this.users = users;\n      },\n      error: error => console.error('Error loading users:', error)\n    });\n  }\n  openCreateUserModal() {\n    this.isEditing = false;\n    this.editingUserId = null;\n    this.userForm.reset();\n    this.showUserModal = true;\n  }\n  openEditUserModal(user) {\n    this.isEditing = true;\n    this.editingUserId = user.id;\n    this.userForm.patchValue({\n      name: user.name,\n      email: user.email,\n      role: user.role,\n      avatar: user.avatar\n    });\n    this.showUserModal = true;\n  }\n  closeUserModal() {\n    this.showUserModal = false;\n    this.userForm.reset();\n  }\n  onSubmitUser() {\n    if (this.userForm.valid) {\n      const userData = this.userForm.value;\n      if (this.isEditing && this.editingUserId) {\n        this.userService.updateUser(this.editingUserId, userData).subscribe({\n          next: updatedUser => {\n            const index = this.users.findIndex(u => u.id === updatedUser.id);\n            if (index !== -1) {\n              this.users[index] = updatedUser;\n            }\n            this.closeUserModal();\n          },\n          error: error => console.error('Error updating user:', error)\n        });\n      } else {\n        this.userService.createUser(userData).subscribe({\n          next: newUser => {\n            this.users.unshift(newUser);\n            this.closeUserModal();\n          },\n          error: error => console.error('Error creating user:', error)\n        });\n      }\n    }\n  }\n  deleteUser(user) {\n    if (confirm(`Are you sure you want to delete user ${user.name}? This action cannot be undone.`)) {\n      this.userService.deleteUser(user.id).subscribe({\n        next: () => {\n          this.users = this.users.filter(u => u.id !== user.id);\n        },\n        error: error => console.error('Error deleting user:', error)\n      });\n    }\n  }\n  getRoleDisplayName(role) {\n    const roleNames = {\n      [UserRole.ADMIN]: 'Administrator',\n      [UserRole.PROJECT_MANAGER]: 'Project Manager',\n      [UserRole.LEAD_DESIGNER]: 'Lead Designer',\n      [UserRole.RESEARCH_ASSOCIATE]: 'Research Associate',\n      [UserRole.LEAD_DEVELOPER]: 'Lead Developer',\n      [UserRole.QA_ENGINEER]: 'QA Engineer',\n      [UserRole.CONTENT_STRATEGIST]: 'Content Strategist',\n      [UserRole.JR_DEVELOPER]: 'Junior Developer',\n      [UserRole.EDITOR]: 'Editor',\n      [UserRole.ANIMATOR]: 'Animator'\n    };\n    return roleNames[role] || role;\n  }\n  getAllRoles() {\n    return [UserRole.PROJECT_MANAGER, UserRole.LEAD_DESIGNER, UserRole.LEAD_DEVELOPER, UserRole.QA_ENGINEER, UserRole.CONTENT_STRATEGIST];\n  }\n};\nUserManagementComponent = __decorate([Component({\n  selector: 'app-user-management',\n  templateUrl: './user-management.component.html',\n  styleUrls: ['./user-management.component.css']\n})], UserManagementComponent);\nexport { UserManagementComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}