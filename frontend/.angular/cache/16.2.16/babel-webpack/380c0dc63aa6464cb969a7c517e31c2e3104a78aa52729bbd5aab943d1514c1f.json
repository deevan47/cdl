{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Validators } from '@angular/forms';\nimport { UserRole } from '../../shared/models/user.model';\nlet UserManagementComponent = class UserManagementComponent {\n  userService;\n  fb;\n  users = [];\n  showUserModal = false;\n  userForm;\n  isEditing = false;\n  editingUserId = null;\n  constructor(userService, fb) {\n    this.userService = userService;\n    this.fb = fb;\n    this.userForm = this.fb.group({\n      name: ['', [Validators.required, Validators.minLength(2)]],\n      email: ['', [Validators.required, Validators.email]],\n      role: ['', Validators.required],\n      avatar: ['']\n    });\n  }\n  ngOnInit() {\n    this.loadUsers();\n  }\n  loadUsers() {\n    this.userService.getAllUsers().subscribe({\n      next: users => {\n        this.users = users;\n      },\n      error: error => console.error('Error loading users:', error)\n    });\n  }\n  openCreateUserModal() {\n    this.isEditing = false;\n    this.editingUserId = null;\n    this.userForm.reset();\n    this.showUserModal = true;\n  }\n  openEditUserModal(user) {\n    this.isEditing = true;\n    this.editingUserId = user.id;\n    this.userForm.patchValue({\n      name: user.name,\n      email: user.email,\n      role: user.role,\n      avatar: user.avatar\n    });\n    this.showUserModal = true;\n  }\n  closeUserModal() {\n    this.showUserModal = false;\n    this.userForm.reset();\n  }\n  onSubmitUser() {\n    if (this.userForm.valid) {\n      const userData = this.userForm.value;\n      if (this.isEditing && this.editingUserId) {\n        this.userService.updateUser(this.editingUserId, userData).subscribe({\n          next: updatedUser => {\n            const index = this.users.findIndex(u => u.id === updatedUser.id);\n            if (index !== -1) {\n              this.users[index] = updatedUser;\n            }\n            this.closeUserModal();\n          },\n          error: error => console.error('Error updating user:', error)\n        });\n      } else {\n        this.userService.createUser(userData).subscribe({\n          next: newUser => {\n            this.users.unshift(newUser);\n            this.closeUserModal();\n          },\n          error: error => console.error('Error creating user:', error)\n        });\n      }\n    }\n  }\n  deleteUser(user) {\n    if (confirm(`Are you sure you want to delete user ${user.name}? This action cannot be undone.`)) {\n      this.userService.deleteUser(user.id).subscribe({\n        next: () => {\n          this.users = this.users.filter(u => u.id !== user.id);\n        },\n        error: error => console.error('Error deleting user:', error)\n      });\n    }\n  }\n  getRoleDisplayName(role) {\n    const roleNames = {\n      [UserRole.ADMIN]: 'Administrator',\n      [UserRole.PROJECT_MANAGER]: 'Project Manager',\n      [UserRole.LEAD_DESIGNER]: 'Lead Designer',\n      [UserRole.RESEARCH_ASSOCIATE]: 'Research Associate',\n      [UserRole.LEAD_DEVELOPER]: 'Lead Developer',\n      [UserRole.QA_ENGINEER]: 'QA Engineer',\n      [UserRole.CONTENT_STRATEGIST]: 'Content Strategist',\n      [UserRole.JR_DEVELOPER]: 'Junior Developer',\n      [UserRole.EDITOR]: 'Editor',\n      [UserRole.ANIMATOR]: 'Animator'\n    };\n    return roleNames[role] || role;\n  }\n  getAllRoles() {\n    return [UserRole.PROJECT_MANAGER, UserRole.LEAD_DESIGNER, UserRole.LEAD_DEVELOPER, UserRole.QA_ENGINEER, UserRole.CONTENT_STRATEGIST];\n  }\n};\nUserManagementComponent = __decorate([Component({\n  selector: 'app-user-management',\n  templateUrl: './user-management.component.html',\n  styleUrls: ['./user-management.component.css']\n})], UserManagementComponent);\nexport { UserManagementComponent };","map":{"version":3,"names":["Component","Validators","UserRole","UserManagementComponent","userService","fb","users","showUserModal","userForm","isEditing","editingUserId","constructor","group","name","required","minLength","email","role","avatar","ngOnInit","loadUsers","getAllUsers","subscribe","next","error","console","openCreateUserModal","reset","openEditUserModal","user","id","patchValue","closeUserModal","onSubmitUser","valid","userData","value","updateUser","updatedUser","index","findIndex","u","createUser","newUser","unshift","deleteUser","confirm","filter","getRoleDisplayName","roleNames","ADMIN","PROJECT_MANAGER","LEAD_DESIGNER","RESEARCH_ASSOCIATE","LEAD_DEVELOPER","QA_ENGINEER","CONTENT_STRATEGIST","JR_DEVELOPER","EDITOR","ANIMATOR","getAllRoles","__decorate","selector","templateUrl","styleUrls"],"sources":["/home/deevan/cdl-project-management-system/frontend/src/app/admin/admin-dashboard/user-management/user-management.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { User, UserRole } from '../../shared/models/user.model';\nimport { UserService } from '../../shared/services/user.service';\n\n@Component({\n  selector: 'app-user-management',\n  templateUrl: './user-management.component.html',\n  styleUrls: ['./user-management.component.css']\n})\nexport class UserManagementComponent implements OnInit {\n  users: User[] = [];\n  showUserModal = false;\n  userForm: FormGroup;\n  isEditing = false;\n  editingUserId: string | null = null;\n\n  constructor(\n    private userService: UserService,\n    private fb: FormBuilder\n  ) {\n    this.userForm = this.fb.group({\n      name: ['', [Validators.required, Validators.minLength(2)]],\n      email: ['', [Validators.required, Validators.email]],\n      role: ['', Validators.required],\n      avatar: ['']\n    });\n  }\n\n  ngOnInit() {\n    this.loadUsers();\n  }\n\n  loadUsers() {\n    this.userService.getAllUsers().subscribe({\n      next: (users) => {\n        this.users = users;\n      },\n      error: (error) => console.error('Error loading users:', error)\n    });\n  }\n\n  openCreateUserModal() {\n    this.isEditing = false;\n    this.editingUserId = null;\n    this.userForm.reset();\n    this.showUserModal = true;\n  }\n\n  openEditUserModal(user: User) {\n    this.isEditing = true;\n    this.editingUserId = user.id;\n    this.userForm.patchValue({\n      name: user.name,\n      email: user.email,\n      role: user.role,\n      avatar: user.avatar\n    });\n    this.showUserModal = true;\n  }\n\n  closeUserModal() {\n    this.showUserModal = false;\n    this.userForm.reset();\n  }\n\n  onSubmitUser() {\n    if (this.userForm.valid) {\n      const userData = this.userForm.value;\n\n      if (this.isEditing && this.editingUserId) {\n        this.userService.updateUser(this.editingUserId, userData).subscribe({\n          next: (updatedUser) => {\n            const index = this.users.findIndex(u => u.id === updatedUser.id);\n            if (index !== -1) {\n              this.users[index] = updatedUser;\n            }\n            this.closeUserModal();\n          },\n          error: (error) => console.error('Error updating user:', error)\n        });\n      } else {\n        this.userService.createUser(userData).subscribe({\n          next: (newUser) => {\n            this.users.unshift(newUser);\n            this.closeUserModal();\n          },\n          error: (error) => console.error('Error creating user:', error)\n        });\n      }\n    }\n  }\n\n  deleteUser(user: User) {\n    if (confirm(`Are you sure you want to delete user ${user.name}? This action cannot be undone.`)) {\n      this.userService.deleteUser(user.id).subscribe({\n        next: () => {\n          this.users = this.users.filter(u => u.id !== user.id);\n        },\n        error: (error) => console.error('Error deleting user:', error)\n      });\n    }\n  }\n\n  getRoleDisplayName(role: UserRole): string {\n    const roleNames = {\n      [UserRole.ADMIN]: 'Administrator',\n      [UserRole.PROJECT_MANAGER]: 'Project Manager',\n      [UserRole.LEAD_DESIGNER]: 'Lead Designer',\n      [UserRole.RESEARCH_ASSOCIATE]: 'Research Associate',\n      [UserRole.LEAD_DEVELOPER]: 'Lead Developer',\n      [UserRole.QA_ENGINEER]: 'QA Engineer',\n      [UserRole.CONTENT_STRATEGIST]: 'Content Strategist',\n      [UserRole.JR_DEVELOPER]: 'Junior Developer',\n      [UserRole.EDITOR]: 'Editor',\n      [UserRole.ANIMATOR]: 'Animator'\n    };\n    return roleNames[role] || role;\n  }\n\n  getAllRoles(): UserRole[] {\n    return [\n      UserRole.PROJECT_MANAGER,\n      UserRole.LEAD_DESIGNER,\n      UserRole.LEAD_DEVELOPER,\n      UserRole.QA_ENGINEER,\n      UserRole.CONTENT_STRATEGIST\n    ];\n  }\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}