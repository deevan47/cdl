{"ast":null,"code":"import { ProjectPlatform } from '../../shared/models/project.model';\nimport { UserRole } from '../../shared/models/user.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../shared/services/project.service\";\nimport * as i2 from \"../../shared/services/task.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"../../shared/components/project-detail/project-detail.component\";\nfunction UserDashboardComponent_button_21_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function UserDashboardComponent_button_21_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.navigateToSection(\"users\"));\n    });\n    i0.ɵɵelementStart(1, \"span\", 11);\n    i0.ɵɵelement(2, \"span\", 12);\n    i0.ɵɵtext(3, \" User Management \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵclassMap(ctx_r0.getSectionNavClass(\"users\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"innerHTML\", ctx_r0.ICONS.user, i0.ɵɵsanitizeHtml);\n  }\n}\nfunction UserDashboardComponent_button_22_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function UserDashboardComponent_button_22_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.navigateToSection(\"settings\"));\n    });\n    i0.ɵɵelementStart(1, \"span\", 11);\n    i0.ɵɵelement(2, \"span\", 12);\n    i0.ɵɵtext(3, \" Settings \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵclassMap(ctx_r1.getSectionNavClass(\"settings\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"innerHTML\", ctx_r1.ICONS.settings, i0.ɵɵsanitizeHtml);\n  }\n}\nfunction UserDashboardComponent_div_31_div_36_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 39);\n    i0.ɵɵlistener(\"click\", function UserDashboardComponent_div_31_div_36_Template_div_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r12);\n      const project_r10 = restoredCtx.$implicit;\n      const ctx_r11 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r11.selectProject(project_r10));\n    });\n    i0.ɵɵelementStart(1, \"div\", 40)(2, \"div\", 41);\n    i0.ɵɵelement(3, \"div\");\n    i0.ɵɵelementStart(4, \"p\", 42);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"span\");\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"titlecase\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 43)(10, \"div\", 44);\n    i0.ɵɵelement(11, \"div\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const project_r10 = ctx.$implicit;\n    const ctx_r8 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵclassMap(ctx_r8.getPlatformDotClass(project_r10.platform));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(project_r10.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassMap(ctx_r8.getStatusBadgeClass(project_r10.status));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(8, 10, project_r10.status));\n    i0.ɵɵadvance(4);\n    i0.ɵɵclassMap(ctx_r8.getProgressBarClass(project_r10.status));\n    i0.ɵɵstyleProp(\"width\", project_r10.overallProgress, \"%\");\n  }\n}\nfunction UserDashboardComponent_div_31_div_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 45);\n    i0.ɵɵtext(1, \"No projects assigned to you.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UserDashboardComponent_div_31_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 20)(1, \"div\", 21)(2, \"h1\", 22);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 23)(5, \"div\", 24);\n    i0.ɵɵlistener(\"click\", function UserDashboardComponent_div_31_Template_div_click_5_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.navigateToSection(\"flame\"));\n    });\n    i0.ɵɵelementStart(6, \"h2\", 25);\n    i0.ɵɵtext(7, \"Flame\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"p\", 26);\n    i0.ɵɵtext(9, \"Internal Creative Projects\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\", 27);\n    i0.ɵɵlistener(\"click\", function UserDashboardComponent_div_31_Template_div_click_10_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.navigateToSection(\"swayam\"));\n    });\n    i0.ɵɵelementStart(11, \"h2\", 25);\n    i0.ɵɵtext(12, \"Swayam\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"p\", 26);\n    i0.ɵɵtext(14, \"External Educational Courses\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(15, \"div\", 28)(16, \"h3\", 29);\n    i0.ɵɵtext(17, \"Your Projects Overview\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"div\", 30)(19, \"span\");\n    i0.ɵɵtext(20, \"Total Projects: \");\n    i0.ɵɵelementStart(21, \"span\", 31);\n    i0.ɵɵtext(22);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(23, \"span\", 32);\n    i0.ɵɵtext(24, \"Completed: \");\n    i0.ɵɵelementStart(25, \"span\", 33);\n    i0.ɵɵtext(26);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(27, \"span\", 34);\n    i0.ɵɵtext(28, \"In Progress: \");\n    i0.ɵɵelementStart(29, \"span\", 33);\n    i0.ɵɵtext(30);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(31, \"span\", 35);\n    i0.ɵɵtext(32, \"Lagging: \");\n    i0.ɵɵelementStart(33, \"span\", 33);\n    i0.ɵɵtext(34);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(35, \"div\", 36);\n    i0.ɵɵtemplate(36, UserDashboardComponent_div_31_div_36_Template, 12, 12, \"div\", 37);\n    i0.ɵɵtemplate(37, UserDashboardComponent_div_31_div_37_Template, 2, 0, \"div\", 38);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Welcome, \", ctx_r2.currentUser.name.split(\" \")[0], \"!\");\n    i0.ɵɵadvance(19);\n    i0.ɵɵtextInterpolate(ctx_r2.getTotalProjects());\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r2.getCompletedProjects());\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r2.getInProgressProjects());\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r2.getLaggingProjects());\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.filteredProjects);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.filteredProjects.length === 0);\n  }\n}\nfunction UserDashboardComponent_div_32_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20)(1, \"div\", 21)(2, \"h1\", 22);\n    i0.ɵɵtext(3, \"Team Management\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 54)(5, \"p\", 55);\n    i0.ɵɵtext(6, \"Team management functionality will be implemented here.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\", 56);\n    i0.ɵɵtext(8, \"Features: Add team members, assign roles, manage permissions.\");\n    i0.ɵɵelementEnd()()()();\n  }\n}\nfunction UserDashboardComponent_div_32_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20)(1, \"div\", 21)(2, \"h1\", 22);\n    i0.ɵɵtext(3, \"Settings\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 54)(5, \"p\", 55);\n    i0.ɵɵtext(6, \"System settings and configuration will be implemented here.\");\n    i0.ɵɵelementEnd()()()();\n  }\n}\nfunction UserDashboardComponent_div_32_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r23 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 57);\n    i0.ɵɵlistener(\"click\", function UserDashboardComponent_div_32_div_8_Template_div_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r23);\n      const project_r21 = restoredCtx.$implicit;\n      const ctx_r22 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r22.selectProject(project_r21));\n    });\n    i0.ɵɵelementStart(1, \"div\", 58)(2, \"p\", 42);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 59);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"titlecase\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 60)(8, \"div\", 44);\n    i0.ɵɵelement(9, \"div\", 59);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const project_r21 = ctx.$implicit;\n    const ctx_r18 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngClass\", (ctx_r18.selectedProject == null ? null : ctx_r18.selectedProject.id) === project_r21.id ? ctx_r18.currentView === \"flame\" ? \"bg-orange-500/10\" : \"bg-blue-500/10\" : \"hover:bg-gray-100 dark:hover:bg-gray-800/50\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(project_r21.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", ctx_r18.getStatusBadgeClass(project_r21.status));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(6, 7, project_r21.status), \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵstyleProp(\"width\", project_r21.overallProgress, \"%\");\n    i0.ɵɵproperty(\"ngClass\", ctx_r18.getProgressBarClass(project_r21.status));\n  }\n}\nconst _c0 = function () {\n  return [];\n};\nfunction UserDashboardComponent_div_32_app_project_detail_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r25 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-project-detail\", 61);\n    i0.ɵɵlistener(\"projectUpdated\", function UserDashboardComponent_div_32_app_project_detail_10_Template_app_project_detail_projectUpdated_0_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r24 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r24.loadUserProjects());\n    })(\"projectDeleted\", function UserDashboardComponent_div_32_app_project_detail_10_Template_app_project_detail_projectDeleted_0_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r26 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r26.loadUserProjects());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r19 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"project\", ctx_r19.selectedProject)(\"availableManagers\", i0.ɵɵpureFunction0(2, _c0));\n  }\n}\nfunction UserDashboardComponent_div_32_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 62)(1, \"p\", 63);\n    i0.ɵɵtext(2, \"Select a project\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction UserDashboardComponent_div_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 46);\n    i0.ɵɵtemplate(1, UserDashboardComponent_div_32_div_1_Template, 9, 0, \"div\", 18);\n    i0.ɵɵtemplate(2, UserDashboardComponent_div_32_div_2_Template, 7, 0, \"div\", 18);\n    i0.ɵɵelementStart(3, \"div\", 47)(4, \"div\", 48)(5, \"h2\", 49);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 20);\n    i0.ɵɵtemplate(8, UserDashboardComponent_div_32_div_8_Template, 10, 9, \"div\", 50);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 51);\n    i0.ɵɵtemplate(10, UserDashboardComponent_div_32_app_project_detail_10_Template, 1, 3, \"app-project-detail\", 52);\n    i0.ɵɵtemplate(11, UserDashboardComponent_div_32_div_11_Template, 3, 0, \"div\", 53);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.currentView === \"users\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.currentView === \"settings\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngClass\", ctx_r3.currentView === \"flame\" ? \"text-orange-500\" : \"text-blue-500\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.currentView, \" Projects \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.projects);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.selectedProject);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r3.selectedProject);\n  }\n}\nclass UserDashboardComponent {\n  projectService;\n  taskService;\n  ICONS = {\n    home: `<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='w-5 h-5'><path d='m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z'></path><polyline points='9 22 9 12 15 12 15 22'></polyline></svg>`,\n    user: `<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='w-5 h-5'><path d='M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2'></path><circle cx='12' cy='7' r='4'></circle></svg>`,\n    settings: `<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='w-5 h-5'><circle cx='12' cy='12' r='3'></circle><path d='M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06-.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z'></path></svg>`,\n    sun: `<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='w-5 h-5'><circle cx='12' cy='12' r='5'></circle><line x1='12' y1='1' x2='12' y2='3'></line><line x1='12' y1='21' x2='12' y2='23'></line><line x1='4.22' y1='4.22' x2='5.64' y2='5.64'></line><line x1='18.36' y1='18.36' x2='19.78' y2='19.78'></line><line x1='1' y1='12' x2='3' y2='12'></line><line x1='21' y1='12' x2='23' y2='12'></line><line x1='4.22' y1='19.78' x2='5.64' y2='18.36'></line><line x1='18.36' y1='5.64' x2='19.78' y2='4.22'></line></svg>`,\n    moon: `<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='w-5 h-5'><path d='M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z'></path></svg>`,\n    logout: `<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='w-5 h-5'><path d='M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4'></path><polyline points='16 17 21 12 16 7'></polyline><line x1='21' y1='12' x2='9' y2='12'></line></svg>`\n  };\n  getTotalProjects() {\n    return this.filteredProjects.length;\n  }\n  getCompletedProjects() {\n    return this.filteredProjects.filter(p => p.status === 'completed').length;\n  }\n  getInProgressProjects() {\n    return this.filteredProjects.filter(p => p.status === 'in_progress' || p.status === 'at_risk').length;\n  }\n  getLaggingProjects() {\n    return this.filteredProjects.filter(p => p.status === 'lagging').length;\n  }\n  myProjects = [];\n  managedProjects = [];\n  selectedProject = null;\n  expandedProject = null;\n  ngOnInit() {\n    this.loadUserProjects();\n    this.loadUserTasks();\n    this.detectColorScheme();\n  }\n  loadUserProjects() {\n    this.projectService.getAllProjects().subscribe({\n      next: projects => {\n        // Split projects: assigned to user vs managed by user\n        this.myProjects = projects.filter(p => p.stages.some(s => s.assignedTeamMembers.some(u => u.id === this.currentUser.id)));\n        this.managedProjects = projects.filter(p => p.projectManager && p.projectManager.id === this.currentUser.id);\n      },\n      error: error => console.error('Error loading user projects:', error)\n    });\n  }\n  selectProject(project) {\n    this.expandedProject = project;\n  }\n  closeExpandedProject() {\n    this.expandedProject = null;\n  }\n  isManager(project) {\n    return project.projectManager && project.projectManager.id === this.currentUser.id;\n  }\n  getNavClass(view) {\n    const baseClasses = \"w-full text-left px-4 py-2 rounded-md transition-colors duration-200\";\n    const activeClasses = this.currentView === view ? 'bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300' : 'text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700';\n    return `${baseClasses} ${activeClasses}`;\n  }\n  getSectionNavClass(section) {\n    const baseClasses = \"w-full text-left px-4 py-2 rounded-md transition-colors duration-200\";\n    const activeClasses = this.currentSection === section ? 'bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300' : 'text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700';\n    return `${baseClasses} ${activeClasses}`;\n  }\n  getPlatformDotClass(platform) {\n    return `w-3 h-3 rounded-full ${platform === ProjectPlatform.FLAME ? 'bg-orange-500' : 'bg-blue-500'}`;\n  }\n  getStatusBadgeClass(status) {\n    const colors = {\n      'on_track': 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300',\n      'at_risk': 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300',\n      'overdue': 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300',\n      'completed': 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300',\n      'setup': 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300',\n      'in_progress': 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300',\n      'lagging': 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300'\n    };\n    return `px-2.5 py-0.5 text-xs font-medium rounded-full ${colors[status] || 'bg-gray-100 text-gray-800'}`;\n  }\n  getProgressBarClass(status) {\n    const colors = {\n      'on_track': 'bg-green-500',\n      'at_risk': 'bg-yellow-500',\n      'overdue': 'bg-red-500',\n      'completed': 'bg-green-500',\n      'setup': 'bg-blue-500',\n      'in_progress': 'bg-blue-500',\n      'lagging': 'bg-red-500'\n    };\n    return `h-2 rounded-full transition-all duration-500 ${colors[status] || 'bg-gray-500'}`;\n  }\n  getPlatformTextClass(platform) {\n    return platform === ProjectPlatform.FLAME ? 'text-orange-500' : 'text-blue-500';\n  }\n  getProjectItemClass(project) {\n    const baseClasses = \"p-4 border-b dark:border-gray-700 cursor-pointer transition-colors\";\n    const selectedClasses = this.selectedProject?.id === project.id ? project.platform === 'flame' ? 'bg-orange-500/10' : 'bg-blue-500/10' : 'hover:bg-gray-100 dark:hover:bg-gray-800/50';\n    return `${baseClasses} ${selectedClasses}`;\n  }\n  projects = [];\n  userTasks = [];\n  currentUser = {\n    id: 'dev1',\n    name: 'Siddhant Salve',\n    email: 'siddhant.salve@cdl.com',\n    role: UserRole.LEAD_DEVELOPER,\n    avatar: 'https://i.pravatar.cc/150?u=siddhant',\n    isActive: true,\n    createdAt: new Date()\n  };\n  currentView = 'home';\n  // Allow user management for admin, project manager, lead developer\n  canManageUsers() {\n    const allowedRoles = [UserRole.ADMIN, UserRole.PROJECT_MANAGER, UserRole.LEAD_DEVELOPER];\n    return allowedRoles.includes(this.currentUser.role);\n  }\n  // Allow settings for admin and project manager\n  canAccessSettings() {\n    const allowedRoles = [UserRole.ADMIN, UserRole.PROJECT_MANAGER];\n    return allowedRoles.includes(this.currentUser.role);\n  }\n  selectedProject = null;\n  isDarkMode = false;\n  constructor(projectService, taskService) {\n    this.projectService = projectService;\n    this.taskService = taskService;\n  }\n  ngOnInit() {\n    this.loadUserProjects();\n    this.loadUserTasks();\n    this.detectColorScheme();\n  }\n  loadUserProjects() {\n    this.projectService.getAllProjects().subscribe({\n      next: projects => {\n        // For testing, show all projects. In real app, filter by user assignment\n        this.projects = projects;\n      },\n      error: error => console.error('Error loading user projects:', error)\n    });\n  }\n  loadUserTasks() {\n    this.taskService.getTasksByUser(this.currentUser.id).subscribe({\n      next: tasks => {\n        this.userTasks = tasks;\n      },\n      error: error => console.error('Error loading user tasks:', error)\n    });\n  }\n  navigateTo(view) {\n    this.currentView = view;\n    this.selectedProject = null;\n  }\n  selectProject(project) {\n    this.selectedProject = project;\n  }\n  toggleTaskCompletion(task) {\n    const newStatus = !task.isCompleted;\n    this.taskService.updateTaskStatus(task.id, newStatus ? 'completed' : 'on_track', newStatus).subscribe({\n      next: updatedTask => {\n        // Update local task\n        const taskIndex = this.userTasks.findIndex(t => t.id === task.id);\n        if (taskIndex !== -1) {\n          this.userTasks[taskIndex] = updatedTask;\n        }\n        // Update project tasks if a project is selected\n        if (this.selectedProject) {\n          this.updateProjectTask(updatedTask);\n        }\n        // Reload projects to update progress\n        this.loadUserProjects();\n      },\n      error: error => console.error('Error updating task status:', error)\n    });\n  }\n  updateProjectTask(updatedTask) {\n    for (const stage of this.selectedProject.stages) {\n      const taskIndex = stage.tasks.findIndex(t => t.id === updatedTask.id);\n      if (taskIndex !== -1) {\n        stage.tasks[taskIndex] = updatedTask;\n        break;\n      }\n    }\n  }\n  getStats() {\n    const totalTasks = this.userTasks.length;\n    const completedTasks = this.userTasks.filter(t => t.isCompleted).length;\n    const overdueTasks = this.userTasks.filter(t => !t.isCompleted && new Date(t.endDate) < new Date()).length;\n    const atRiskTasks = this.userTasks.filter(t => !t.isCompleted && !this.isOverdue(t) && this.daysUntilDue(t) <= 7).length;\n    return {\n      totalTasks,\n      completedTasks,\n      overdueTasks,\n      atRiskTasks\n    };\n  }\n  isOverdue(task) {\n    return new Date(task.endDate) < new Date() && !task.isCompleted;\n  }\n  daysUntilDue(task) {\n    const dueDate = new Date(task.endDate);\n    const today = new Date();\n    const timeDiff = dueDate.getTime() - today.getTime();\n    return Math.ceil(timeDiff / (1000 * 3600 * 24));\n  }\n  toggleDarkMode() {\n    this.isDarkMode = !this.isDarkMode;\n    if (this.isDarkMode) {\n      document.documentElement.classList.add('dark');\n    } else {\n      document.documentElement.classList.remove('dark');\n    }\n  }\n  detectColorScheme() {\n    if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {\n      this.isDarkMode = true;\n      document.documentElement.classList.add('dark');\n    }\n  }\n  static ɵfac = function UserDashboardComponent_Factory(t) {\n    return new (t || UserDashboardComponent)(i0.ɵɵdirectiveInject(i1.ProjectService), i0.ɵɵdirectiveInject(i2.TaskService));\n  };\n  static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: UserDashboardComponent,\n    selectors: [[\"app-user-dashboard\"]],\n    decls: 33,\n    vars: 17,\n    consts: [[1, \"flex\", \"h-screen\", \"bg-gray-100\", \"dark:bg-gray-950\", \"transition-colors\", \"duration-300\"], [1, \"w-64\", \"bg-white\", \"dark:bg-gray-900\", \"border-r\", \"dark:border-gray-700\", \"flex\", \"flex-col\"], [1, \"p-6\", \"border-b\", \"dark:border-gray-700\"], [1, \"text-2xl\", \"font-bold\", \"text-gray-800\", \"dark:text-white\"], [1, \"flex\", \"flex-col\", \"items-center\", \"mt-6\", \"-mx-2\", \"border-t\", \"dark:border-gray-700\", \"pt-4\"], [1, \"w-16\", \"h-16\", \"rounded-full\", \"object-cover\", \"ring-2\", \"ring-white\", \"dark:ring-gray-800\", 3, \"src\", \"alt\"], [1, \"mt-2\", \"text-center\"], [1, \"font-medium\", \"text-gray-800\", \"dark:text-gray-200\"], [1, \"text-sm\", \"text-gray-600\", \"dark:text-gray-400\"], [1, \"flex-1\", \"p-4\", \"space-y-2\"], [3, \"click\"], [1, \"inline-flex\", \"items-center\", \"gap-2\"], [3, \"innerHTML\"], [3, \"class\", \"click\", 4, \"ngIf\"], [1, \"p-4\", \"border-t\", \"dark:border-gray-700\"], [1, \"w-full\", \"flex\", \"items-center\", \"justify-center\", \"px-4\", \"py-2\", \"text-gray-600\", \"bg-gray-100\", \"rounded-lg\", \"dark:bg-gray-800\", \"dark:text-gray-300\", \"hover:bg-gray-200\", \"dark:hover:bg-gray-700\", 3, \"click\"], [\"routerLink\", \"/auth/logout\", 1, \"w-full\", \"flex\", \"items-center\", \"justify-center\", \"mt-4\", \"px-4\", \"py-2\", \"text-white\", \"bg-red-500\", \"rounded-lg\", \"hover:bg-red-600\", \"transition\"], [1, \"flex-1\", \"flex\", \"flex-col\", \"overflow-hidden\"], [\"class\", \"flex-1 overflow-y-auto\", 4, \"ngIf\"], [\"class\", \"flex-1 flex overflow-hidden\", 4, \"ngIf\"], [1, \"flex-1\", \"overflow-y-auto\"], [1, \"p-6\"], [1, \"text-3xl\", \"font-bold\", \"text-gray-800\", \"dark:text-white\", \"mb-8\"], [1, \"grid\", \"grid-cols-1\", \"md:grid-cols-2\", \"gap-6\", \"mb-8\"], [1, \"p-8\", \"rounded-xl\", \"bg-gradient-to-br\", \"from-orange-400\", \"to-red-500\", \"text-white\", \"shadow-lg\", \"hover:shadow-2xl\", \"transform\", \"hover:-translate-y-1\", \"transition-all\", \"duration-300\", \"cursor-pointer\", 3, \"click\"], [1, \"text-4xl\", \"font-bold\"], [1, \"mt-2\", \"text-lg\", \"opacity-80\"], [1, \"p-8\", \"rounded-xl\", \"bg-gradient-to-br\", \"from-blue-400\", \"to-indigo-500\", \"text-white\", \"shadow-lg\", \"hover:shadow-2xl\", \"transform\", \"hover:-translate-y-1\", \"transition-all\", \"duration-300\", \"cursor-pointer\", 3, \"click\"], [1, \"bg-white\", \"dark:bg-gray-800\", \"rounded-xl\", \"shadow-md\", \"p-6\", \"mb-6\"], [1, \"text-xl\", \"font-semibold\", \"text-gray-800\", \"dark:text-white\", \"mb-4\"], [1, \"flex\", \"flex-wrap\", \"gap-4\", \"text-sm\", \"text-gray-600\", \"dark:text-gray-300\"], [1, \"font-bold\", \"text-gray-900\", \"dark:text-white\"], [1, \"text-green-600\", \"dark:text-green-400\"], [1, \"font-bold\"], [1, \"text-blue-600\", \"dark:text-blue-400\"], [1, \"text-red-600\", \"dark:text-red-400\"], [1, \"space-y-4\"], [\"class\", \"p-4 rounded-lg bg-gray-50 dark:bg-gray-700/50 cursor-pointer hover:shadow-lg transition-shadow\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"text-center py-4 text-gray-500 dark:text-gray-400\", 4, \"ngIf\"], [1, \"p-4\", \"rounded-lg\", \"bg-gray-50\", \"dark:bg-gray-700/50\", \"cursor-pointer\", \"hover:shadow-lg\", \"transition-shadow\", 3, \"click\"], [1, \"flex\", \"items-center\", \"justify-between\"], [1, \"flex\", \"items-center\", \"gap-3\"], [1, \"font-semibold\", \"text-gray-800\", \"dark:text-gray-100\"], [1, \"mt-3\"], [1, \"w-full\", \"bg-gray-200\", \"rounded-full\", \"h-2\", \"dark:bg-gray-700\"], [1, \"text-center\", \"py-4\", \"text-gray-500\", \"dark:text-gray-400\"], [1, \"flex-1\", \"flex\", \"overflow-hidden\"], [1, \"w-1/3\", \"border-r\", \"dark:border-gray-700\", \"flex\", \"flex-col\"], [1, \"p-4\", \"border-b\", \"dark:border-gray-700\"], [1, \"text-2xl\", \"font-bold\", \"capitalize\", 3, \"ngClass\"], [\"class\", \"p-4 border-b dark:border-gray-700 cursor-pointer transition-colors\", 3, \"ngClass\", \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"flex-1\", \"bg-white\", \"dark:bg-gray-800\", \"overflow-y-auto\"], [3, \"project\", \"availableManagers\", \"projectUpdated\", \"projectDeleted\", 4, \"ngIf\"], [\"class\", \"h-full flex items-center justify-center\", 4, \"ngIf\"], [1, \"bg-white\", \"dark:bg-gray-800\", \"rounded-lg\", \"shadow-md\", \"p-6\"], [1, \"text-gray-600\", \"dark:text-gray-400\"], [1, \"text-gray-500\", \"dark:text-gray-500\", \"text-sm\", \"mt-2\"], [1, \"p-4\", \"border-b\", \"dark:border-gray-700\", \"cursor-pointer\", \"transition-colors\", 3, \"ngClass\", \"click\"], [1, \"flex\", \"justify-between\", \"items-center\"], [3, \"ngClass\"], [1, \"mt-2\"], [3, \"project\", \"availableManagers\", \"projectUpdated\", \"projectDeleted\"], [1, \"h-full\", \"flex\", \"items-center\", \"justify-center\"], [1, \"text-gray-500\", \"dark:text-gray-400\", \"text-lg\"]],\n    template: function UserDashboardComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h2\", 3);\n        i0.ɵɵtext(4, \"Project Management Dashboard\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(5, \"div\", 4);\n        i0.ɵɵelement(6, \"img\", 5);\n        i0.ɵɵelementStart(7, \"div\", 6)(8, \"h4\", 7);\n        i0.ɵɵtext(9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"p\", 8);\n        i0.ɵɵtext(11);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(12, \"nav\", 9)(13, \"button\", 10);\n        i0.ɵɵlistener(\"click\", function UserDashboardComponent_Template_button_click_13_listener() {\n          return ctx.navigateToSection(\"dashboard\");\n        });\n        i0.ɵɵelementStart(14, \"span\", 11);\n        i0.ɵɵelement(15, \"span\", 12);\n        i0.ɵɵtext(16, \" Dashboard \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(17, \"button\", 10);\n        i0.ɵɵlistener(\"click\", function UserDashboardComponent_Template_button_click_17_listener() {\n          return ctx.navigateToSection(\"projects\");\n        });\n        i0.ɵɵelementStart(18, \"span\", 11);\n        i0.ɵɵelement(19, \"span\", 12);\n        i0.ɵɵtext(20, \" Projects \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(21, UserDashboardComponent_button_21_Template, 4, 3, \"button\", 13);\n        i0.ɵɵtemplate(22, UserDashboardComponent_button_22_Template, 4, 3, \"button\", 13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"div\", 14)(24, \"button\", 15);\n        i0.ɵɵlistener(\"click\", function UserDashboardComponent_Template_button_click_24_listener() {\n          return ctx.toggleDarkMode();\n        });\n        i0.ɵɵelement(25, \"span\", 12);\n        i0.ɵɵtext(26);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"a\", 16);\n        i0.ɵɵelement(28, \"span\", 12);\n        i0.ɵɵtext(29, \" Logout \");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(30, \"div\", 17);\n        i0.ɵɵtemplate(31, UserDashboardComponent_div_31_Template, 38, 7, \"div\", 18);\n        i0.ɵɵtemplate(32, UserDashboardComponent_div_32_Template, 12, 7, \"div\", 19);\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"src\", ctx.currentUser.avatar, i0.ɵɵsanitizeUrl)(\"alt\", ctx.currentUser.name);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(ctx.currentUser.name);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.currentUser.role);\n        i0.ɵɵadvance(2);\n        i0.ɵɵclassMap(ctx.getSectionNavClass(\"dashboard\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"innerHTML\", ctx.ICONS.home, i0.ɵɵsanitizeHtml);\n        i0.ɵɵadvance(2);\n        i0.ɵɵclassMap(ctx.getSectionNavClass(\"projects\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"innerHTML\", ctx.ICONS.user, i0.ɵɵsanitizeHtml);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.canManageUsers());\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.canAccessSettings());\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"innerHTML\", ctx.isDarkMode ? ctx.ICONS.sun : ctx.ICONS.moon, i0.ɵɵsanitizeHtml);\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate1(\" \", ctx.isDarkMode ? \"Light\" : \"Dark\", \" Mode \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"innerHTML\", ctx.ICONS.logout, i0.ɵɵsanitizeHtml);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.currentSection === \"dashboard\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.currentView === \"flame\" || ctx.currentView === \"swayam\");\n      }\n    },\n    dependencies: [i3.NgClass, i3.NgForOf, i3.NgIf, i4.RouterLink, i5.ProjectDetailComponent, i3.TitleCasePipe],\n    styles: [\"/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ1c2VyLWRhc2hib2FyZC5jb21wb25lbnQuY3NzIn0= */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdXNlci91c2VyLWRhc2hib2FyZC91c2VyLWRhc2hib2FyZC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFDQSw0S0FBNEsiLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}\nexport { UserDashboardComponent };","map":{"version":3,"names":["ProjectPlatform","UserRole","i0","ɵɵelementStart","ɵɵlistener","UserDashboardComponent_button_21_Template_button_click_0_listener","ɵɵrestoreView","_r5","ctx_r4","ɵɵnextContext","ɵɵresetView","navigateToSection","ɵɵelement","ɵɵtext","ɵɵelementEnd","ɵɵclassMap","ctx_r0","getSectionNavClass","ɵɵadvance","ɵɵproperty","ICONS","user","ɵɵsanitizeHtml","UserDashboardComponent_button_22_Template_button_click_0_listener","_r7","ctx_r6","ctx_r1","settings","UserDashboardComponent_div_31_div_36_Template_div_click_0_listener","restoredCtx","_r12","project_r10","$implicit","ctx_r11","selectProject","ctx_r8","getPlatformDotClass","platform","ɵɵtextInterpolate","name","getStatusBadgeClass","status","ɵɵpipeBind1","getProgressBarClass","ɵɵstyleProp","overallProgress","UserDashboardComponent_div_31_Template_div_click_5_listener","_r14","ctx_r13","UserDashboardComponent_div_31_Template_div_click_10_listener","ctx_r15","ɵɵtemplate","UserDashboardComponent_div_31_div_36_Template","UserDashboardComponent_div_31_div_37_Template","ɵɵtextInterpolate1","ctx_r2","currentUser","split","getTotalProjects","getCompletedProjects","getInProgressProjects","getLaggingProjects","filteredProjects","length","UserDashboardComponent_div_32_div_8_Template_div_click_0_listener","_r23","project_r21","ctx_r22","ctx_r18","selectedProject","id","currentView","UserDashboardComponent_div_32_app_project_detail_10_Template_app_project_detail_projectUpdated_0_listener","_r25","ctx_r24","loadUserProjects","UserDashboardComponent_div_32_app_project_detail_10_Template_app_project_detail_projectDeleted_0_listener","ctx_r26","ctx_r19","ɵɵpureFunction0","_c0","UserDashboardComponent_div_32_div_1_Template","UserDashboardComponent_div_32_div_2_Template","UserDashboardComponent_div_32_div_8_Template","UserDashboardComponent_div_32_app_project_detail_10_Template","UserDashboardComponent_div_32_div_11_Template","ctx_r3","projects","UserDashboardComponent","projectService","taskService","home","sun","moon","logout","filter","p","myProjects","managedProjects","expandedProject","ngOnInit","loadUserTasks","detectColorScheme","getAllProjects","subscribe","next","stages","some","s","assignedTeamMembers","u","projectManager","error","console","project","closeExpandedProject","isManager","getNavClass","view","baseClasses","activeClasses","section","currentSection","FLAME","colors","getPlatformTextClass","getProjectItemClass","selectedClasses","userTasks","email","role","LEAD_DEVELOPER","avatar","isActive","createdAt","Date","canManageUsers","allowedRoles","ADMIN","PROJECT_MANAGER","includes","canAccessSettings","isDarkMode","constructor","getTasksByUser","tasks","navigateTo","toggleTaskCompletion","task","newStatus","isCompleted","updateTaskStatus","updatedTask","taskIndex","findIndex","t","updateProjectTask","stage","getStats","totalTasks","completedTasks","overdueTasks","endDate","atRiskTasks","isOverdue","daysUntilDue","dueDate","today","timeDiff","getTime","Math","ceil","toggleDarkMode","document","documentElement","classList","add","remove","window","matchMedia","matches","ɵɵdirectiveInject","i1","ProjectService","i2","TaskService","selectors","decls","vars","consts","template","UserDashboardComponent_Template","rf","ctx","UserDashboardComponent_Template_button_click_13_listener","UserDashboardComponent_Template_button_click_17_listener","UserDashboardComponent_button_21_Template","UserDashboardComponent_button_22_Template","UserDashboardComponent_Template_button_click_24_listener","UserDashboardComponent_div_31_Template","UserDashboardComponent_div_32_Template","ɵɵsanitizeUrl"],"sources":["/home/deevan/cdl-project-management-system/frontend/src/app/user/user-dashboard/user-dashboard.component.ts","/home/deevan/cdl-project-management-system/frontend/src/app/user/user-dashboard/user-dashboard.component.html"],"sourcesContent":["// ...existing code...\nimport { Component, OnInit } from '@angular/core';\nimport { ProjectService } from '../../shared/services/project.service';\nimport { TaskService } from '../../shared/services/task.service';\nimport { Project, ProjectPlatform, ProjectStatus, Task } from '../../shared/models/project.model';\nimport { User, UserRole } from '../../shared/models/user.model';\n\n@Component({\n  selector: 'app-user-dashboard',\n  templateUrl: './user-dashboard.component.html',\n  styleUrls: ['./user-dashboard.component.css']\n})\nexport class UserDashboardComponent implements OnInit {\n  ICONS = {\n    home: `<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='w-5 h-5'><path d='m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z'></path><polyline points='9 22 9 12 15 12 15 22'></polyline></svg>`,\n    user: `<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='w-5 h-5'><path d='M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2'></path><circle cx='12' cy='7' r='4'></circle></svg>`,\n    settings: `<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='w-5 h-5'><circle cx='12' cy='12' r='3'></circle><path d='M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06-.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z'></path></svg>`,\n    sun: `<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='w-5 h-5'><circle cx='12' cy='12' r='5'></circle><line x1='12' y1='1' x2='12' y2='3'></line><line x1='12' y1='21' x2='12' y2='23'></line><line x1='4.22' y1='4.22' x2='5.64' y2='5.64'></line><line x1='18.36' y1='18.36' x2='19.78' y2='19.78'></line><line x1='1' y1='12' x2='3' y2='12'></line><line x1='21' y1='12' x2='23' y2='12'></line><line x1='4.22' y1='19.78' x2='5.64' y2='18.36'></line><line x1='18.36' y1='5.64' x2='19.78' y2='4.22'></line></svg>`,\n    moon: `<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='w-5 h-5'><path d='M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z'></path></svg>`,\n    logout: `<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='w-5 h-5'><path d='M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4'></path><polyline points='16 17 21 12 16 7'></polyline><line x1='21' y1='12' x2='9' y2='12'></line></svg>`\n  };\n\n  getTotalProjects(): number {\n    return this.filteredProjects.length;\n  }\n  getCompletedProjects(): number {\n    return this.filteredProjects.filter(p => p.status === 'completed').length;\n  }\n  getInProgressProjects(): number {\n    return this.filteredProjects.filter(p => p.status === 'in_progress' || p.status === 'at_risk').length;\n  }\n  getLaggingProjects(): number {\n    return this.filteredProjects.filter(p => p.status === 'lagging').length;\n  }\n  myProjects: Project[] = [];\n  managedProjects: Project[] = [];\n  selectedProject: Project | null = null;\n  expandedProject: Project | null = null;\n\n  ngOnInit() {\n    this.loadUserProjects();\n    this.loadUserTasks();\n    this.detectColorScheme();\n  }\n\n  loadUserProjects() {\n    this.projectService.getAllProjects().subscribe({\n      next: (projects) => {\n        // Split projects: assigned to user vs managed by user\n        this.myProjects = projects.filter(p =>\n          p.stages.some(s => s.assignedTeamMembers.some(u => u.id === this.currentUser.id))\n        );\n        this.managedProjects = projects.filter(p =>\n          p.projectManager && p.projectManager.id === this.currentUser.id\n        );\n      },\n      error: (error) => console.error('Error loading user projects:', error)\n    });\n  }\n\n  selectProject(project: Project) {\n    this.expandedProject = project;\n  }\n\n  closeExpandedProject() {\n    this.expandedProject = null;\n  }\n\n  isManager(project: Project): boolean {\n    return project.projectManager && project.projectManager.id === this.currentUser.id;\n  }\n\n  getNavClass(view: string): string {\n    const baseClasses = \"w-full text-left px-4 py-2 rounded-md transition-colors duration-200\";\n    const activeClasses = this.currentView === view \n      ? 'bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300' \n      : 'text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700';\n    return `${baseClasses} ${activeClasses}`;\n  }\n\n  getSectionNavClass(section: string): string {\n    const baseClasses = \"w-full text-left px-4 py-2 rounded-md transition-colors duration-200\";\n    const activeClasses = this.currentSection === section \n      ? 'bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300' \n      : 'text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700';\n    return `${baseClasses} ${activeClasses}`;\n  }\n\n  getPlatformDotClass(platform: ProjectPlatform): string {\n    return `w-3 h-3 rounded-full ${platform === ProjectPlatform.FLAME ? 'bg-orange-500' : 'bg-blue-500'}`;\n  }\n\n  getStatusBadgeClass(status: string): string {\n    const colors: { [key: string]: string } = {\n      'on_track': 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300',\n      'at_risk': 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300',\n      'overdue': 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300',\n      'completed': 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300',\n      'setup': 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300',\n      'in_progress': 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300',\n      'lagging': 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300'\n    };\n    return `px-2.5 py-0.5 text-xs font-medium rounded-full ${colors[status] || 'bg-gray-100 text-gray-800'}`;\n  }\n\n  getProgressBarClass(status: string): string {\n    const colors: { [key: string]: string } = {\n      'on_track': 'bg-green-500',\n      'at_risk': 'bg-yellow-500',\n      'overdue': 'bg-red-500',\n      'completed': 'bg-green-500',\n      'setup': 'bg-blue-500',\n      'in_progress': 'bg-blue-500',\n      'lagging': 'bg-red-500'\n    };\n    return `h-2 rounded-full transition-all duration-500 ${colors[status] || 'bg-gray-500'}`;\n  }\n\n  getPlatformTextClass(platform: ProjectPlatform): string {\n    return platform === ProjectPlatform.FLAME ? 'text-orange-500' : 'text-blue-500';\n  }\n\n  getProjectItemClass(project: Project): string {\n    const baseClasses = \"p-4 border-b dark:border-gray-700 cursor-pointer transition-colors\";\n    const selectedClasses = this.selectedProject?.id === project.id \n      ? (project.platform === 'flame' ? 'bg-orange-500/10' : 'bg-blue-500/10')\n      : 'hover:bg-gray-100 dark:hover:bg-gray-800/50';\n    return `${baseClasses} ${selectedClasses}`;\n  }\n  projects: Project[] = [];\n  userTasks: Task[] = [];\n  currentUser: User = {\n    id: 'dev1',\n    name: 'Siddhant Salve',\n    email: 'siddhant.salve@cdl.com',\n    role: UserRole.LEAD_DEVELOPER,\n    avatar: 'https://i.pravatar.cc/150?u=siddhant',\n    isActive: true,\n    createdAt: new Date()\n  };\n  \n  currentView: 'home' | 'flame' | 'swayam' | 'users' | 'settings' = 'home';\n  // Allow user management for admin, project manager, lead developer\n  canManageUsers(): boolean {\n    const allowedRoles = [UserRole.ADMIN, UserRole.PROJECT_MANAGER, UserRole.LEAD_DEVELOPER];\n    return allowedRoles.includes(this.currentUser.role);\n  }\n\n  // Allow settings for admin and project manager\n  canAccessSettings(): boolean {\n    const allowedRoles = [UserRole.ADMIN, UserRole.PROJECT_MANAGER];\n    return allowedRoles.includes(this.currentUser.role);\n  }\n  selectedProject: Project | null = null;\n  isDarkMode = false;\n\n  constructor(\n    private projectService: ProjectService,\n    private taskService: TaskService\n  ) {}\n\n  ngOnInit() {\n    this.loadUserProjects();\n    this.loadUserTasks();\n    this.detectColorScheme();\n  }\n\n  loadUserProjects() {\n    this.projectService.getAllProjects().subscribe({\n      next: (projects) => {\n        // For testing, show all projects. In real app, filter by user assignment\n        this.projects = projects;\n      },\n      error: (error) => console.error('Error loading user projects:', error)\n    });\n  }\n\n  loadUserTasks() {\n    this.taskService.getTasksByUser(this.currentUser.id).subscribe({\n      next: (tasks) => {\n        this.userTasks = tasks;\n      },\n      error: (error) => console.error('Error loading user tasks:', error)\n    });\n  }\n\n  navigateTo(view: 'home' | 'flame' | 'swayam') {\n    this.currentView = view;\n    this.selectedProject = null;\n  }\n\n  selectProject(project: Project) {\n    this.selectedProject = project;\n  }\n\n  toggleTaskCompletion(task: Task) {\n    const newStatus = !task.isCompleted;\n    this.taskService.updateTaskStatus(task.id, \n      newStatus ? 'completed' : 'on_track' as any, \n      newStatus\n    ).subscribe({\n      next: (updatedTask) => {\n        // Update local task\n        const taskIndex = this.userTasks.findIndex(t => t.id === task.id);\n        if (taskIndex !== -1) {\n          this.userTasks[taskIndex] = updatedTask;\n        }\n        \n        // Update project tasks if a project is selected\n        if (this.selectedProject) {\n          this.updateProjectTask(updatedTask);\n        }\n        \n        // Reload projects to update progress\n        this.loadUserProjects();\n      },\n      error: (error) => console.error('Error updating task status:', error)\n    });\n  }\n\n  private updateProjectTask(updatedTask: Task) {\n    for (const stage of this.selectedProject!.stages) {\n      const taskIndex = stage.tasks.findIndex(t => t.id === updatedTask.id);\n      if (taskIndex !== -1) {\n        stage.tasks[taskIndex] = updatedTask;\n        break;\n      }\n    }\n  }\n\n  getStats() {\n    const totalTasks = this.userTasks.length;\n    const completedTasks = this.userTasks.filter(t => t.isCompleted).length;\n    const overdueTasks = this.userTasks.filter(t => \n      !t.isCompleted && new Date(t.endDate) < new Date()\n    ).length;\n    const atRiskTasks = this.userTasks.filter(t => \n      !t.isCompleted && \n      !this.isOverdue(t) && \n      this.daysUntilDue(t) <= 7\n    ).length;\n\n    return { totalTasks, completedTasks, overdueTasks, atRiskTasks };\n  }\n\n  private isOverdue(task: Task): boolean {\n    return new Date(task.endDate) < new Date() && !task.isCompleted;\n  }\n\n  private daysUntilDue(task: Task): number {\n    const dueDate = new Date(task.endDate);\n    const today = new Date();\n    const timeDiff = dueDate.getTime() - today.getTime();\n    return Math.ceil(timeDiff / (1000 * 3600 * 24));\n  }\n\n  toggleDarkMode() {\n    this.isDarkMode = !this.isDarkMode;\n    if (this.isDarkMode) {\n      document.documentElement.classList.add('dark');\n    } else {\n      document.documentElement.classList.remove('dark');\n    }\n  }\n\n  private detectColorScheme() {\n    if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {\n      this.isDarkMode = true;\n      document.documentElement.classList.add('dark');\n    }\n  }\n\n}","<div class=\"flex h-screen bg-gray-100 dark:bg-gray-950 transition-colors duration-300\">\n\n  <!-- Sidebar -->\n  <div class=\"w-64 bg-white dark:bg-gray-900 border-r dark:border-gray-700 flex flex-col\">\n    <div class=\"p-6 border-b dark:border-gray-700\">\n      <h2 class=\"text-2xl font-bold text-gray-800 dark:text-white\">Project Management Dashboard</h2>\n    </div>\n    <div class=\"flex flex-col items-center mt-6 -mx-2 border-t dark:border-gray-700 pt-4\">\n      <img [src]=\"currentUser.avatar\" [alt]=\"currentUser.name\" class=\"w-16 h-16 rounded-full object-cover ring-2 ring-white dark:ring-gray-800\">\n      <div class=\"mt-2 text-center\">\n        <h4 class=\"font-medium text-gray-800 dark:text-gray-200\">{{ currentUser.name }}</h4>\n        <p class=\"text-sm text-gray-600 dark:text-gray-400\">{{ currentUser.role }}</p>\n      </div>\n    </div>\n    <nav class=\"flex-1 p-4 space-y-2\">\n      <button (click)=\"navigateToSection('dashboard')\" [class]=\"getSectionNavClass('dashboard')\">\n        <span class=\"inline-flex items-center gap-2\"> <span [innerHTML]=\"ICONS.home\"></span> Dashboard </span>\n      </button>\n      <button (click)=\"navigateToSection('projects')\" [class]=\"getSectionNavClass('projects')\">\n        <span class=\"inline-flex items-center gap-2\"> <span [innerHTML]=\"ICONS.user\"></span> Projects </span>\n      </button>\n      <button (click)=\"navigateToSection('users')\" [class]=\"getSectionNavClass('users')\" *ngIf=\"canManageUsers()\">\n        <span class=\"inline-flex items-center gap-2\"> <span [innerHTML]=\"ICONS.user\"></span> User Management </span>\n      </button>\n      <button (click)=\"navigateToSection('settings')\" [class]=\"getSectionNavClass('settings')\" *ngIf=\"canAccessSettings()\">\n        <span class=\"inline-flex items-center gap-2\"> <span [innerHTML]=\"ICONS.settings\"></span> Settings </span>\n      </button>\n    </nav>\n    <div class=\"p-4 border-t dark:border-gray-700\">\n      <button (click)=\"toggleDarkMode()\" class=\"w-full flex items-center justify-center px-4 py-2 text-gray-600 bg-gray-100 rounded-lg dark:bg-gray-800 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700\">\n        <span [innerHTML]=\"isDarkMode ? ICONS.sun : ICONS.moon\"></span> {{ isDarkMode ? 'Light' : 'Dark' }} Mode\n      </button>\n      <a routerLink=\"/auth/logout\" class=\"w-full flex items-center justify-center mt-4 px-4 py-2 text-white bg-red-500 rounded-lg hover:bg-red-600 transition\">\n        <span [innerHTML]=\"ICONS.logout\"></span> Logout\n      </a>\n    </div>\n  </div>\n\n  <!-- Main Content -->\n  <div class=\"flex-1 flex flex-col overflow-hidden\">\n\n    <!-- DASHBOARD SECTION -->\n    <div *ngIf=\"currentSection === 'dashboard'\" class=\"flex-1 overflow-y-auto\">\n      <div class=\"p-6\">\n        <h1 class=\"text-3xl font-bold text-gray-800 dark:text-white mb-8\">Welcome, {{ currentUser.name.split(' ')[0] }}!</h1>\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8\">\n          <div (click)=\"navigateToSection('flame')\" class=\"p-8 rounded-xl bg-gradient-to-br from-orange-400 to-red-500 text-white shadow-lg hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300 cursor-pointer\">\n            <h2 class=\"text-4xl font-bold\">Flame</h2>\n            <p class=\"mt-2 text-lg opacity-80\">Internal Creative Projects</p>\n          </div>\n          <div (click)=\"navigateToSection('swayam')\" class=\"p-8 rounded-xl bg-gradient-to-br from-blue-400 to-indigo-500 text-white shadow-lg hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300 cursor-pointer\">\n            <h2 class=\"text-4xl font-bold\">Swayam</h2>\n            <p class=\"mt-2 text-lg opacity-80\">External Educational Courses</p>\n          </div>\n        </div>\n        <div class=\"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6 mb-6\">\n          <h3 class=\"text-xl font-semibold text-gray-800 dark:text-white mb-4\">Your Projects Overview</h3>\n          <div class=\"flex flex-wrap gap-4 text-sm text-gray-600 dark:text-gray-300\">\n            <span>Total Projects: <span class=\"font-bold text-gray-900 dark:text-white\">{{ getTotalProjects() }}</span></span>\n            <span class=\"text-green-600 dark:text-green-400\">Completed: <span class=\"font-bold\">{{ getCompletedProjects() }}</span></span>\n            <span class=\"text-blue-600 dark:text-blue-400\">In Progress: <span class=\"font-bold\">{{ getInProgressProjects() }}</span></span>\n            <span class=\"text-red-600 dark:text-red-400\">Lagging: <span class=\"font-bold\">{{ getLaggingProjects() }}</span></span>\n          </div>\n        </div>\n        <div class=\"space-y-4\">\n          <div *ngFor=\"let project of filteredProjects\" (click)=\"selectProject(project)\" class=\"p-4 rounded-lg bg-gray-50 dark:bg-gray-700/50 cursor-pointer hover:shadow-lg transition-shadow\">\n            <div class=\"flex items-center justify-between\">\n              <div class=\"flex items-center gap-3\">\n                <div [class]=\"getPlatformDotClass(project.platform)\"></div>\n                <p class=\"font-semibold text-gray-800 dark:text-gray-100\">{{ project.name }}</p>\n              </div>\n              <span [class]=\"getStatusBadgeClass(project.status)\">{{ project.status | titlecase }}</span>\n            </div>\n            <div class=\"mt-3\">\n              <div class=\"w-full bg-gray-200 rounded-full h-2 dark:bg-gray-700\">\n                <div [class]=\"getProgressBarClass(project.status)\" [style.width.%]=\"project.overallProgress\"></div>\n              </div>\n            </div>\n          </div>\n          <div *ngIf=\"filteredProjects.length === 0\" class=\"text-center py-4 text-gray-500 dark:text-gray-400\">No projects assigned to you.</div>\n        </div>\n      </div>\n    </div>\n\n  <!-- WORKSPACE VIEW (Flame / Swayam) -->\n  <div *ngIf=\"currentView === 'flame' || currentView === 'swayam'\" class=\"flex-1 flex overflow-hidden\">\n    <!-- User Management Section -->\n    <div *ngIf=\"currentView === 'users'\" class=\"flex-1 overflow-y-auto\">\n      <div class=\"p-6\">\n        <h1 class=\"text-3xl font-bold text-gray-800 dark:text-white mb-8\">Team Management</h1>\n        <div class=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6\">\n          <p class=\"text-gray-600 dark:text-gray-400\">Team management functionality will be implemented here.</p>\n          <p class=\"text-gray-500 dark:text-gray-500 text-sm mt-2\">Features: Add team members, assign roles, manage permissions.</p>\n        </div>\n      </div>\n    </div>\n\n    <!-- Settings Section -->\n    <div *ngIf=\"currentView === 'settings'\" class=\"flex-1 overflow-y-auto\">\n      <div class=\"p-6\">\n        <h1 class=\"text-3xl font-bold text-gray-800 dark:text-white mb-8\">Settings</h1>\n        <div class=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6\">\n          <p class=\"text-gray-600 dark:text-gray-400\">System settings and configuration will be implemented here.</p>\n        </div>\n      </div>\n    </div>\n\n      <!-- Project List Sidebar -->\n      <div class=\"w-1/3 border-r dark:border-gray-700 flex flex-col\">\n\n        <div class=\"p-4 border-b dark:border-gray-700\">\n          <h2 class=\"text-2xl font-bold capitalize\"\n              [ngClass]=\"currentView === 'flame' ? 'text-orange-500' : 'text-blue-500'\">\n            {{ currentView }} Projects\n          </h2>\n        </div>\n\n        <div class=\"flex-1 overflow-y-auto\">\n\n          <div *ngFor=\"let project of projects\"\n               (click)=\"selectProject(project)\"\n               [ngClass]=\"selectedProject?.id === project.id \n                 ? (currentView === 'flame' ? 'bg-orange-500/10' : 'bg-blue-500/10') \n                 : 'hover:bg-gray-100 dark:hover:bg-gray-800/50'\"\n               class=\"p-4 border-b dark:border-gray-700 cursor-pointer transition-colors\">\n\n            <div class=\"flex justify-between items-center\">\n              <p class=\"font-semibold text-gray-800 dark:text-gray-100\">{{ project.name }}</p>\n\n              <span [ngClass]=\"getStatusBadgeClass(project.status)\">\n                {{ project.status | titlecase }}\n              </span>\n            </div>\n\n            <div class=\"mt-2\">\n              <div class=\"w-full bg-gray-200 rounded-full h-2 dark:bg-gray-700\">\n                <div [ngClass]=\"getProgressBarClass(project.status)\"\n                     [style.width.%]=\"project.overallProgress\"></div>\n              </div>\n            </div>\n\n          </div>\n\n        </div>\n      </div>\n\n      <!-- Detail View -->\n      <div class=\"flex-1 bg-white dark:bg-gray-800 overflow-y-auto\">\n\n        <app-project-detail\n          *ngIf=\"selectedProject\"\n          [project]=\"selectedProject\"\n          [availableManagers]=\"[]\"\n          (projectUpdated)=\"loadUserProjects()\"\n          (projectDeleted)=\"loadUserProjects()\">\n        </app-project-detail>\n\n        <div *ngIf=\"!selectedProject\" class=\"h-full flex items-center justify-center\">\n          <p class=\"text-gray-500 dark:text-gray-400 text-lg\">Select a project</p>\n        </div>\n\n      </div>\n\n    </div>\n\n  </div>\n</div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}