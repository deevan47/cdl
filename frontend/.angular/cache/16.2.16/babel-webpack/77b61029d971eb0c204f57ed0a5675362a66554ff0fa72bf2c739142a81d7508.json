{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../shared/services/project.service\";\nimport * as i3 from \"../../shared/services/auth.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../../shared/components/project-detail/project-detail.component\";\nimport * as i6 from \"../../shared/components/comments/comments.component\";\nfunction ProjectPageComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 5);\n    i0.ɵɵelement(1, \"div\", 6);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProjectPageComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵelement(1, \"app-project-detail\", 8);\n    i0.ɵɵelementStart(2, \"div\", 9);\n    i0.ɵɵelement(3, \"app-comments\", 10);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"project\", ctx_r1.project)(\"availableManagers\", ctx_r1.availableManagers)(\"currentUser\", ctx_r1.currentUser);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"projectId\", ctx_r1.project.id);\n  }\n}\nfunction ProjectPageComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11);\n    i0.ɵɵtext(1, \" Project not found. \");\n    i0.ɵɵelementEnd();\n  }\n}\nclass ProjectPageComponent {\n  route;\n  router;\n  projectService;\n  authService;\n  project = null;\n  currentUser = null;\n  availableManagers = [];\n  loading = true;\n  constructor(route, router, projectService, authService) {\n    this.route = route;\n    this.router = router;\n    this.projectService = projectService;\n    this.authService = authService;\n    const user = this.authService.currentUserValue;\n    this.currentUser = user?.user ? user.user : user;\n  }\n  ngOnInit() {\n    const projectId = this.route.snapshot.paramMap.get('id');\n    if (projectId) {\n      this.loadProject(projectId);\n      this.loadManagers();\n    }\n  }\n  loadProject(id) {\n    this.projectService.getProjectById(id).subscribe({\n      next: p => {\n        this.project = p;\n        this.loading = false;\n      },\n      error: err => {\n        console.error(err);\n        this.loading = false;\n      }\n    });\n  }\n  loadManagers() {\n    // Assuming there's a method to get managers, or we can fetch all users\n    // For now, let's assume projectService has it or we skip it\n  }\n  goBack() {\n    this.router.navigate(['/user']);\n  }\n  static ɵfac = function ProjectPageComponent_Factory(t) {\n    return new (t || ProjectPageComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.ProjectService), i0.ɵɵdirectiveInject(i3.AuthService));\n  };\n  static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ProjectPageComponent,\n    selectors: [[\"app-project-page\"]],\n    decls: 8,\n    vars: 3,\n    consts: [[1, \"min-h-screen\", \"bg-gray-100\", \"dark:bg-gray-950\", \"p-6\"], [1, \"mb-4\", \"flex\", \"items-center\", \"gap-2\", \"text-gray-600\", \"dark:text-gray-400\", \"hover:text-blue-600\", \"transition\", 3, \"click\"], [\"class\", \"flex justify-center items-center h-64\", 4, \"ngIf\"], [\"class\", \"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden\", 4, \"ngIf\"], [\"class\", \"text-center text-red-500\", 4, \"ngIf\"], [1, \"flex\", \"justify-center\", \"items-center\", \"h-64\"], [1, \"animate-spin\", \"rounded-full\", \"h-12\", \"w-12\", \"border-b-2\", \"border-blue-600\"], [1, \"bg-white\", \"dark:bg-gray-800\", \"rounded-xl\", \"shadow-lg\", \"overflow-hidden\"], [3, \"project\", \"availableManagers\", \"currentUser\"], [1, \"p-6\", \"border-t\", \"border-gray-200\", \"dark:border-gray-700\"], [3, \"projectId\"], [1, \"text-center\", \"text-red-500\"]],\n    template: function ProjectPageComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"button\", 1);\n        i0.ɵɵlistener(\"click\", function ProjectPageComponent_Template_button_click_1_listener() {\n          return ctx.goBack();\n        });\n        i0.ɵɵelementStart(2, \"span\");\n        i0.ɵɵtext(3, \"\\u2190\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(4, \" Back to Dashboard \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(5, ProjectPageComponent_div_5_Template, 2, 0, \"div\", 2);\n        i0.ɵɵtemplate(6, ProjectPageComponent_div_6_Template, 4, 4, \"div\", 3);\n        i0.ɵɵtemplate(7, ProjectPageComponent_div_7_Template, 2, 0, \"div\", 4);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.loading);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.loading && ctx.project);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.loading && !ctx.project);\n      }\n    },\n    dependencies: [i4.NgIf, i5.ProjectDetailComponent, i6.CommentsComponent],\n    styles: [\"\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2plY3QtcGFnZS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLFdBQVciLCJmaWxlIjoicHJvamVjdC1wYWdlLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBTdHlsZXMgKi8iXX0= */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdXNlci9wcm9qZWN0LXBhZ2UvcHJvamVjdC1wYWdlLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsV0FBVztBQUNYLHdRQUF3USIsInNvdXJjZXNDb250ZW50IjpbIi8qIFN0eWxlcyAqLyJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}\nexport { ProjectPageComponent };","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵadvance","ɵɵproperty","ctx_r1","project","availableManagers","currentUser","id","ɵɵtext","ProjectPageComponent","route","router","projectService","authService","loading","constructor","user","currentUserValue","ngOnInit","projectId","snapshot","paramMap","get","loadProject","loadManagers","getProjectById","subscribe","next","p","error","err","console","goBack","navigate","ɵɵdirectiveInject","i1","ActivatedRoute","Router","i2","ProjectService","i3","AuthService","selectors","decls","vars","consts","template","ProjectPageComponent_Template","rf","ctx","ɵɵlistener","ProjectPageComponent_Template_button_click_1_listener","ɵɵtemplate","ProjectPageComponent_div_5_Template","ProjectPageComponent_div_6_Template","ProjectPageComponent_div_7_Template"],"sources":["/home/deevan/cdl-project-management-system/frontend/src/app/user/project-page/project-page.component.ts","/home/deevan/cdl-project-management-system/frontend/src/app/user/project-page/project-page.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ProjectService } from '../../shared/services/project.service';\nimport { AuthService } from '../../shared/services/auth.service';\nimport { Project } from '../../shared/models/project.model';\nimport { User } from '../../shared/models/user.model';\n\n@Component({\n    selector: 'app-project-page',\n    templateUrl: './project-page.component.html',\n    styleUrls: ['./project-page.component.css']\n})\nexport class ProjectPageComponent implements OnInit {\n    project: Project | null = null;\n    currentUser: User | null = null;\n    availableManagers: User[] = [];\n    loading = true;\n\n    constructor(\n        private route: ActivatedRoute,\n        private router: Router,\n        private projectService: ProjectService,\n        private authService: AuthService\n    ) {\n        const user = this.authService.currentUserValue;\n        this.currentUser = user?.user ? user.user : user;\n    }\n\n    ngOnInit() {\n        const projectId = this.route.snapshot.paramMap.get('id');\n        if (projectId) {\n            this.loadProject(projectId);\n            this.loadManagers();\n        }\n    }\n\n    loadProject(id: string) {\n        this.projectService.getProjectById(id).subscribe({\n            next: (p) => {\n                this.project = p;\n                this.loading = false;\n            },\n            error: (err) => {\n                console.error(err);\n                this.loading = false;\n            }\n        });\n    }\n\n    loadManagers() {\n        // Assuming there's a method to get managers, or we can fetch all users\n        // For now, let's assume projectService has it or we skip it\n    }\n\n    goBack() {\n        this.router.navigate(['/user']);\n    }\n}\n","<div class=\"min-h-screen bg-gray-100 dark:bg-gray-950 p-6\">\n    <button (click)=\"goBack()\"\n        class=\"mb-4 flex items-center gap-2 text-gray-600 dark:text-gray-400 hover:text-blue-600 transition\">\n        <span>←</span> Back to Dashboard\n    </button>\n\n    <div *ngIf=\"loading\" class=\"flex justify-center items-center h-64\">\n        <div class=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\n    </div>\n\n    <div *ngIf=\"!loading && project\" class=\"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden\">\n        <!-- We reuse the existing ProjectDetailComponent but we need to make sure it's exported/imported -->\n        <app-project-detail [project]=\"project\" [availableManagers]=\"availableManagers\"\n            [currentUser]=\"currentUser\"></app-project-detail>\n\n        <div class=\"p-6 border-t border-gray-200 dark:border-gray-700\">\n            <app-comments [projectId]=\"project.id\"></app-comments>\n        </div>\n    </div>\n\n    <div *ngIf=\"!loading && !project\" class=\"text-center text-red-500\">\n        Project not found.\n    </div>\n</div>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}